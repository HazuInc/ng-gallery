{"version":3,"file":"gallery-lib.umd.js.map","sources":["ng://gallery-lib/lib/config/gallery.default.ts","ng://gallery-lib/lib/utils/get.ts","ng://gallery-lib/lib/service/gallery.service.ts","ng://gallery-lib/lib/component/gallery/gallery.component.ts","ng://gallery-lib/lib/component/gallery-bullets/gallery-bullets.component.ts","ng://gallery-lib/lib/component/gallery-image/gallery-image.animation.ts","ng://gallery-lib/lib/component/gallery-image/gallery-image.component.ts","ng://gallery-lib/lib/component/gallery-loader/gallery-loader.component.ts","ng://gallery-lib/lib/component/gallery-main/gallery-main.component.ts","ng://gallery-lib/lib/component/gallery-modal/gallery-modal.component.ts","ng://gallery-lib/lib/component/gallery-nav/gallery-nav.component.ts","ng://gallery-lib/lib/component/gallery-player/gallery-player.component.ts","ng://gallery-lib/lib/component/gallery-text/gallery-text.component.ts","ng://gallery-lib/lib/component/gallery-thumb/gallery-thumb.component.ts","ng://gallery-lib/lib/utils/isEqual.ts","ng://gallery-lib/lib/directive/gallery.directive.ts","ng://gallery-lib/lib/directive/lazy.directive.ts","ng://gallery-lib/lib/directive/tap.directive.ts","ng://gallery-lib/lib/gallery.module.ts"],"sourcesContent":["import { GalleryState } from '../service/gallery.state';\r\nimport { GalleryConfig } from './gallery.config';\r\n\r\nexport const defaultState: GalleryState = {\r\n  images: undefined,\r\n  prevIndex: 0,\r\n  currIndex: 0,\r\n  hasNext: undefined,\r\n  hasPrev: undefined,\r\n  active: false\r\n};\r\n\r\nexport const defaultConfig: GalleryConfig = {\r\n  style: {\r\n    background: '#121519',\r\n    width: '900px',\r\n    height: '500px'\r\n  },\r\n  animation: 'fade',\r\n  loader: {\r\n    width: '50px',\r\n    height: '50px',\r\n    position: 'center',\r\n    icon: 'oval'\r\n  },\r\n  description: {\r\n    position: 'bottom',\r\n    overlay: false,\r\n    text: true,\r\n    counter: true,\r\n    style: {\r\n      color: 'red'\r\n    }\r\n  },\r\n  player: {\r\n    autoplay: false,\r\n    speed: 3000\r\n  },\r\n  thumbnails: {\r\n    width: 120,\r\n    height: 90,\r\n    position: 'left',\r\n    space: 30\r\n  }\r\n};\r\n\r\n\r\n\r\n","export function get(obj: any, path: string, def: any = undefined) {\r\n  if (!obj || !path) {\r\n    return def;\r\n  }\r\n\r\n  let arr = path.split('.');\r\n  let current = obj;\r\n\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (!current[arr[i]]){\r\n      return def;\r\n    }\r\n    current = current[arr[i]];\r\n  }\r\n\r\n  return current || def;\r\n\r\n}","import { Injectable, Optional } from '@angular/core';\r\n\r\nimport { GalleryState, GalleryImage } from './gallery.state';\r\nimport { GalleryConfig } from '../config/gallery.config';\r\nimport { defaultState, defaultConfig } from '../config/gallery.default';\r\n\r\nimport { get } from '../utils/get';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { BehaviorSubject, Observable, of, interval as rxInterval } from 'rxjs';\r\nimport { switchMap, tap, takeWhile, finalize } from 'rxjs/operators';\r\n\r\nexport class GalleryService {\r\n\r\n  /** Gallery state */\r\n  state: BehaviorSubject<GalleryState>;\r\n  /** Gallery config */\r\n  config: GalleryConfig = defaultConfig;\r\n  /** Gallery slide show player */\r\n  player: Subject<number>;\r\n\r\n  constructor(@Optional() config: GalleryConfig) {\r\n\r\n    /** Initialize the state */\r\n    this.state = new BehaviorSubject<GalleryState>(defaultState);\r\n    /** Initialize the config */\r\n    this.config = Object.assign({}, defaultConfig, config);\r\n\r\n    /** Initialize the player for play/pause commands */\r\n    this.player = new Subject();\r\n    this.player.pipe(switchMap((interval) => (interval) ? this.playerEngine(interval) : of(null))).subscribe();\r\n  }\r\n\r\n  /** Load images and reset the state */\r\n  load(images: GalleryImage[]) {\r\n\r\n    this.state.next({\r\n      images: images,\r\n      currIndex: 0,\r\n      hasNext: images.length > 1,\r\n      hasPrev: false,\r\n      active: false\r\n    });\r\n  }\r\n\r\n  /** Set current image and update the state */\r\n  set(index: number) {\r\n    const state = this.state.getValue();\r\n\r\n    this.state.next(Object.assign({}, state, {\r\n      prevIndex: state.currIndex,\r\n      currIndex: index,\r\n      hasNext: index < get(state, 'images.length', 0) - 1,\r\n      hasPrev: index > 0,\r\n      active: true\r\n    }));\r\n  }\r\n\r\n  /** Go to next image and update the state */\r\n  next() {\r\n    const state = this.state.getValue();\r\n\r\n    if (state.hasNext) {\r\n      const index = (state.currIndex || 0) + 1;\r\n      this.set(index);\r\n    } else {\r\n      this.set(0);\r\n    }\r\n  }\r\n\r\n  /** Go to previous image and update the state */\r\n  prev() {\r\n    const state = this.state.getValue();\r\n\r\n    if (state.hasPrev) {\r\n      const index = (state.currIndex || 0) - 1;\r\n      this.set(index);\r\n    } else {\r\n      this.set(get(state, 'images.length', 0) - 1);\r\n    }\r\n  }\r\n\r\n  /** Close gallery modal if open */\r\n  close() {\r\n    const state = this.state.getValue();\r\n\r\n    this.state.next(Object.assign({}, state, {\r\n      active: false,\r\n      play: false\r\n    }));\r\n    this.stop();\r\n  }\r\n\r\n  /** Reset gallery with initial state */\r\n  reset() {\r\n    this.state.next(defaultState);\r\n    this.stop();\r\n  }\r\n\r\n  /** Play slide show */\r\n  play(interval?: number) {\r\n    const speed = interval || get(this.config, 'player.speed', 0) || 2000;\r\n\r\n    const state = this.state.getValue();\r\n    /** Open and play the gallery, 'active' opens gallery modal */\r\n    this.state.next(Object.assign({}, state, { play: true, active: true }));\r\n    this.player.next(speed);\r\n  }\r\n\r\n  /** End slide show */\r\n  stop() {\r\n    this.player.next(0);\r\n  }\r\n\r\n  playerEngine(interval?: number) {\r\n\r\n    return rxInterval(interval).pipe(\r\n      takeWhile(() => this.state.getValue().play || false),\r\n      tap(() => this.next()),\r\n      finalize(() => this.state.next(Object.assign({}, this.state.getValue(), { play: false }))));\r\n\r\n  }\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component, OnDestroy } from '@angular/core';\r\nimport { GalleryService } from '../../service/gallery.service';\r\n\r\n@Component({\r\n  selector: 'gallery',\r\n  template: '<gallery-main *ngIf=\"gallery.state | async as state\" [state]=\"state\" [config]=\"gallery.config\"></gallery-main>',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./gallery.component.scss']\r\n})\r\nexport class GalleryComponent implements OnDestroy {\r\n\r\n  constructor(public gallery: GalleryService) {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.gallery.reset();\r\n  }\r\n\r\n}\r\n","import { Component, ElementRef, Input, OnInit, Renderer2, ChangeDetectionStrategy } from '@angular/core';\r\nimport { GalleryService } from '../../service/gallery.service';\r\nimport { GalleryState } from '../../service/gallery.state';\r\nimport { GalleryBulletConfig } from '../../config';\r\n\r\n@Component({\r\n  selector: 'gallery-bullets',\r\n  templateUrl: './gallery-bullets.component.html',\r\n  styleUrls: ['./gallery-bullets.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class GalleryBulletsComponent implements OnInit {\r\n\r\n  @Input() state: GalleryState;\r\n  @Input() config: GalleryBulletConfig;\r\n\r\n  constructor(public gallery: GalleryService, private renderer: Renderer2, private el: ElementRef) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.config.position) {\r\n\r\n      let contDirection, conWidth, conHeight, contTop;\r\n      let hostRight = 'unset', hostBottom = 'unset';\r\n      switch (this.config.position) {\r\n        case 'bottom':\r\n          contDirection = 'row';\r\n          conHeight = 'auto';\r\n          conWidth = '100%';\r\n          contTop = 'unset';\r\n          hostBottom = '0';\r\n          break;\r\n        case 'left':\r\n          contDirection = 'column';\r\n          conWidth = 'auto';\r\n          conHeight = '100%';\r\n          break;\r\n        case 'right':\r\n          conWidth = 'auto';\r\n          conHeight = '100%';\r\n          contDirection = 'column';\r\n          hostRight = '0';\r\n          break;\r\n        default:\r\n          // top\r\n          contDirection = 'row';\r\n          conHeight = 'auto';\r\n          conWidth = '100%';\r\n          break;\r\n      }\r\n\r\n      this.renderer.setStyle(this.el.nativeElement, 'right', hostRight);\r\n      this.renderer.setStyle(this.el.nativeElement, 'bottom', hostBottom);\r\n      this.renderer.setStyle(this.el.nativeElement, 'width', conWidth);\r\n      this.renderer.setStyle(this.el.nativeElement, 'height', conHeight);\r\n      this.renderer.setStyle(this.el.nativeElement, 'flex-direction', contDirection);\r\n    }\r\n  }\r\n\r\n}\r\n","import { transition, state, trigger, style, animate } from '@angular/animations';\r\nexport const animation: any = [\r\n  trigger('imgAnimate', [\r\n    state('fade', style({ opacity: 1 })),\r\n    transition('none => fade', [\r\n      style({\r\n        opacity: 0\r\n      }),\r\n      animate('0.5s ease-in')\r\n    ])\r\n  ])\r\n];\r\n// export const animation: AnimationEntryMetadata = [\r\n//   trigger('imgIn', [\r\n//     state('none', style({ opacity: 1 })),\r\n//     state('slideRight', style({ transform: 'translate3d(0, 0, 0)' })),\r\n//     state('slideLeft', style({ transform: 'translate3d(0, 0, 0)' })),\r\n//     transition('slideLeft <=> *', [\r\n//       style({\r\n//         transform: 'translate3d(100%, 0, 0)'\r\n//       }),\r\n//       animate('0.5s ease-in')\r\n//     ]),\r\n//     transition('slideRight <=> *', [\r\n//       style({\r\n//         transform: 'translate3d(-100%, 0, 0)'\r\n//       }),\r\n//       animate('0.5s ease-in')\r\n//     ]),\r\n//     transition('fade <=> *', [\r\n//       style({\r\n//         opacity: 0\r\n//       }),\r\n//       animate('0.5s ease-in')\r\n//     ]),\r\n//   ]),\r\n//   trigger('imgOut', [\r\n//     state('slideRight', style({ transform: 'translate3d(100%, 0, 0)' })),\r\n//     state('slideLeft', style({ transform: 'translate3d(-100%, 0, 0)' })),\r\n//     state('fade', style({ opacity: 0 })),\r\n//     state('none', style({ opacity: 1 })),\r\n//     transition('slideLeft <=> *', [\r\n//       style({\r\n//         transform: 'translate3d(0, 0, 0)'\r\n//       }),\r\n//       animate('0.5s ease-in')\r\n//     ]),\r\n//     transition('slideRight <=> *', [\r\n//       style({\r\n//         transform: 'translate3d(0, 0, 0)'\r\n//       }),\r\n//       animate('0.5s ease-in')\r\n//     ]),\r\n//     transition('fade <=> *', [\r\n//       style({\r\n//         opacity: 1\r\n//       }),\r\n//       animate('1s ease-in')\r\n//     ]),\r\n//   ]),\r\n// ];\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  ElementRef,\r\n  Renderer2\r\n} from '@angular/core';\r\nimport { GalleryState } from '../../service/gallery.state';\r\nimport { GalleryConfig } from '../../config';\r\nimport { GalleryService } from '../../service/gallery.service';\r\nimport { animation } from './gallery-image.animation';\r\n\r\ndeclare const Hammer: any;\r\n\r\n@Component({\r\n  selector: 'gallery-image',\r\n  templateUrl: './gallery-image.component.html',\r\n  styleUrls: ['./gallery-image.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: animation\r\n})\r\nexport class GalleryImageComponent implements OnInit {\r\n\r\n  @Input() state: GalleryState;\r\n  @Input() config: GalleryConfig;\r\n  loading: boolean;\r\n  animate: string;\r\n\r\n  constructor(public gallery: GalleryService, private el: ElementRef, private renderer: Renderer2) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    /** Enable gestures */\r\n    if (this.config.gestures) {\r\n      if (typeof Hammer === 'undefined') {\r\n\r\n        throw Error('[NgGallery]: HammerJS is undefined, make sure it is loaded');\r\n      } else {\r\n\r\n        const el = this.el.nativeElement;\r\n        const mc = new Hammer(el);\r\n\r\n        mc.on('panstart', () => {\r\n          this.renderer.removeClass(el, 'g-pan-reset');\r\n        });\r\n        mc.on('panend', () => {\r\n          this.renderer.addClass(el, 'g-pan-reset');\r\n        });\r\n        mc.on('pan', (e: any) => {\r\n          this.renderer.setStyle(el, 'transform', `translate3d(${e.deltaX}px, 0px, 0px)`);\r\n        });\r\n        /** Swipe next and prev */\r\n        mc.on('swipeleft', () => {\r\n          this.gallery.next();\r\n        });\r\n        mc.on('swiperight', () => {\r\n          this.gallery.prev();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  imageLoad(done: boolean) {\r\n    this.loading = !done;\r\n    /** TODO: Add some animation */\r\n    \r\n    if (!done) {\r\n      this.animate = 'none';\r\n    } else {\r\n      switch (this.config.animation) {\r\n        case 'fade':\r\n          this.animate = 'fade';\r\n          break;\r\n        default:\r\n          this.animate = 'none';\r\n      }\r\n      //     this.animate = 'none';\r\n      //   case 'slide':\r\n      //     this.animate = (this.state.currIndex > this.state.prevIndex) ? 'slideLeft' : 'slideRight';\r\n      //     break;\r\n      //   default:\r\n      //     this.animate = 'none';\r\n    }\r\n\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\r\nimport { GalleryService } from '../../service/gallery.service';\r\nimport { GalleryLoaderConfig } from '../../config';\r\n\r\n@Component({\r\n  selector: 'gallery-loader',\r\n  templateUrl: './gallery-loader.component.html',\r\n  styleUrls: ['./gallery-loader.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class GalleryLoaderComponent implements OnInit {\r\n\r\n  @Input() config: GalleryLoaderConfig;\r\n  icon: any;\r\n  styles: any;\r\n\r\n  constructor(public gallery: GalleryService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.icon = this.getIcon();\r\n    this.styles = this.getStyle();\r\n  }\r\n\r\n  getIcon() {\r\n    switch (this.config.icon) {\r\n      case 'puff':\r\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/puff.svg';\r\n\r\n      case 'spinning-circles':\r\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/ball-triangle.svg';\r\n\r\n      case 'three-dots':\r\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/three-dots.svg';\r\n\r\n      case 'oval':\r\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/oval.svg';\r\n\r\n      case 'ball-triangle':\r\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/ball-triangle.svg';\r\n\r\n      case 'bars':\r\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/bars.svg';\r\n\r\n      case 'tail-spin':\r\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/tail-spin.svg';\r\n\r\n      default:\r\n        return this.config.icon;\r\n    }\r\n  }\r\n\r\n  getStyle() {\r\n    switch (this.config.position) {\r\n      case 'topLeft':\r\n        return {\r\n          'align-items': 'flex-start',\r\n          'justify-content': 'flex-start'\r\n        };\r\n\r\n      case 'topRight':\r\n        return {\r\n          'align-items': 'flex-start',\r\n          'justify-content': 'flex-end'\r\n        };\r\n      case 'bottomLeft':\r\n        return {\r\n          'align-items': 'flex-end',\r\n          'justify-content': 'flex-start'\r\n        };\r\n      case 'bottomRight':\r\n        return {\r\n          'align-items': 'flex-end',\r\n          'justify-content': 'flex-end'\r\n        };\r\n\r\n      default:\r\n        return {\r\n          'align-items': 'center',\r\n          'justify-content': 'center'\r\n        };\r\n    }\r\n  }\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { GalleryState } from '../../service/gallery.state';\r\nimport { GalleryConfig } from '../../config';\r\nimport { GalleryService } from '../../service/gallery.service';\r\n\r\n@Component({\r\n  selector: 'gallery-main',\r\n  templateUrl: './gallery-main.component.html',\r\n  styleUrls: ['./gallery-main.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class GalleryMainComponent implements OnInit {\r\n\r\n  @Input() state: GalleryState;\r\n  @Input() config: GalleryConfig;\r\n  loading: any;\r\n  thumbDirection: any;\r\n\r\n  constructor(public gallery: GalleryService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    // shortcut for thumbnail config\r\n    const thumbPos = this.config.thumbnails ? this.config.thumbnails.position : 0;\r\n    this.thumbDirection = (thumbPos === 'left' || thumbPos === 'right') ? 'row' : 'column';\r\n  }\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component, HostListener, Input, OnDestroy } from '@angular/core';\r\nimport { transition, state, trigger, style, animate } from '@angular/animations';\r\nimport { GalleryService } from '../../service/gallery.service';\r\n\r\n@Component({\r\n  selector: 'gallery-modal',\r\n  templateUrl: './gallery-modal.component.html',\r\n  styleUrls: ['./gallery-modal.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [\r\n    trigger('popup', [\r\n      state('in', style({ opacity: 0.8 , transform: 'scale(0.2) translate3d(0, 100px, 0)'})),\r\n      transition('void => *', [\r\n        style({  opacity: 0.8 , transform: 'scale(0.2) translate3d(0, 100px, 0)' }),\r\n        animate(300)\r\n      ]),\r\n      transition('* => void', [\r\n        animate(300, style({  opacity: 1 , transform: 'scale(1)  translate3d(0, 0, 0)' }))\r\n      ])\r\n    ])]\r\n})\r\nexport class GalleryModalComponent implements OnDestroy {\r\n\r\n  @Input() closeButton = true;\r\n  \r\n\r\n  /** Activate keyboard for navigation */\r\n  @HostListener('body:keydown', ['$event'])\r\n  keyboardInput(event: KeyboardEvent) {\r\n    if (!this.gallery.state.getValue().active){\r\n      return;\r\n    }\r\n    event.stopPropagation();\r\n    switch (event.keyCode) {\r\n      case 37:  // prev\r\n        this.gallery.prev();\r\n        break;\r\n      case 39:  // next\r\n        this.gallery.next();\r\n        break;\r\n      case 13:  // enter\r\n        this.gallery.next();\r\n        break;\r\n      case 27:  // esc\r\n        this.gallery.close();\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  constructor(public gallery: GalleryService) {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.gallery.reset();\r\n  }\r\n\r\n}\r\n","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\r\nimport {GalleryService} from '../../service/gallery.service';\r\n\r\n@Component({\r\n  selector: 'gallery-nav',\r\n  templateUrl: './gallery-nav.component.html',\r\n  styleUrls: ['./gallery-nav.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class GalleryNavComponent {\r\n\r\n  @Input() state: any;\r\n\r\n  constructor(public gallery: GalleryService) {\r\n  }\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\r\nimport { GalleryService } from '../../service/gallery.service';\r\nimport { GalleryPlayConfig } from '../../config';\r\nimport { GalleryState } from '../../service/gallery.state';\r\n\r\n@Component({\r\n  selector: 'gallery-player',\r\n  templateUrl: './gallery-player.component.html',\r\n  styleUrls: ['./gallery-player.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class GalleryPlayerComponent implements OnInit {\r\n\r\n  @Input() config: GalleryPlayConfig;\r\n  @Input() state: GalleryState;\r\n\r\n  constructor(public gallery: GalleryService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    /** Start auto-play if enabled */\r\n    if (this.config.autoplay) {\r\n      this.gallery.play();\r\n    }\r\n\r\n    /** TODO: Display status bar */\r\n  }\r\n\r\n}\r\n","import {Component, Input, OnInit, ElementRef, Renderer2, ChangeDetectionStrategy} from '@angular/core';\r\nimport {GalleryState} from '../../service/gallery.state';\r\nimport {GalleryDescConfig} from '../../config';\r\n\r\n@Component({\r\n  selector: 'gallery-text',\r\n  templateUrl: './gallery-text.component.html',\r\n  styleUrls: ['./gallery-text.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class GalleryTextComponent implements OnInit {\r\n\r\n  @Input() state: GalleryState;\r\n  @Input() config: GalleryDescConfig;\r\n\r\n  constructor(private el: ElementRef, private renderer: Renderer2) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    const el = this.el.nativeElement;\r\n    // text overlay\r\n    if (this.config.overlay) {\r\n      this.renderer.setStyle(el, 'position', 'absolute');\r\n    }\r\n\r\n    // text position\r\n    if (this.config.position === 'top') {\r\n      this.renderer.setStyle(el, 'order', 0);\r\n      this.renderer.setStyle(el, 'top', 0);\r\n      this.renderer.setStyle(el, 'bottom', 'unset');\r\n    } else {\r\n      this.renderer.setStyle(el, 'order', 2);\r\n      this.renderer.setStyle(el, 'top', 'unset');\r\n      this.renderer.setStyle(el, 'bottom', 0);\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Component, Input, ChangeDetectionStrategy, ElementRef, Renderer2, OnInit\r\n} from '@angular/core';\r\n\r\nimport { get } from '../../utils/get';\r\nimport { GalleryService } from '../../service/gallery.service';\r\nimport { GalleryState } from '../../service/gallery.state';\r\nimport { GalleryThumbConfig } from '../../config';\r\n\r\ndeclare const Hammer: any;\r\n\r\n@Component({\r\n  selector: 'gallery-thumb',\r\n  templateUrl: './gallery-thumb.component.html',\r\n  styleUrls: ['./gallery-thumb.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class GalleryThumbComponent implements OnInit {\r\n\r\n  @Input() state: GalleryState;\r\n  @Input() config: GalleryThumbConfig;\r\n\r\n  contStyle: any;\r\n\r\n  constructor(public gallery: GalleryService, private el: ElementRef, private renderer: Renderer2) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.contStyle = this.getContainerStyle();\r\n\r\n    /** Enable gestures */\r\n    if (this.gallery.config.gestures) {\r\n      if (typeof Hammer === 'undefined') {\r\n\r\n        throw Error('[NgGallery]: HammerJS is undefined, make sure it is loaded');\r\n      } else {\r\n        const el = this.el.nativeElement;\r\n        const mc = new Hammer(el);\r\n\r\n        mc.on('panstart', () => {\r\n          this.renderer.removeClass(el, 'g-pan-reset');\r\n        });\r\n        mc.on('panend', () => {\r\n          this.renderer.addClass(el, 'g-pan-reset');\r\n        });\r\n\r\n        /** Pan left and right */\r\n        mc.on('pan', (e: any) => {\r\n          this.renderer.setStyle(el, 'transform', `translate3d(${e.deltaX}px, 0px, 0px)`);\r\n        });\r\n        /** Swipe next and prev */\r\n        mc.on('swipeleft', () => {\r\n          this.gallery.next();\r\n        });\r\n        mc.on('swiperight', () => {\r\n          this.gallery.prev();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  translateThumbs() {\r\n    const x = get(this.state, 'currIndex', 0) * get(this.config, 'width', 0) + get(this.config, 'width', 0) / 2;\r\n    return `translate3d(${-x}px, 0, 0)`;\r\n  }\r\n\r\n  getContainerStyle() {\r\n    /** Set thumbnails position (top, bottom) */\r\n    const order = this.config.position === 'top' ? 0 : 2;\r\n    this.renderer.setStyle(this.el.nativeElement, 'order', order);\r\n\r\n    return {\r\n      height: this.config.height + 'px',\r\n      margin: this.config.space + 'px'\r\n    };\r\n  }\r\n\r\n  getThumbImage(i: number) {\r\n    /** Use thumbnail if presented */\r\n    let image = get(this.state, 'images', [])[i] || {};\r\n    return `url(${image.thumbnail || image.src})`;\r\n  }\r\n\r\n}\r\n","export function isEqual(array1: string[] = [], array2: string[] = []) {\r\n  if (array1.length !== array2.length) {\r\n    return false;\r\n  }\r\n\r\n  // array1 = array1.sort();\r\n  // array2 = array2.sort();\r\n\r\n  for (let i = array1.length; i--;) {\r\n    if (array1[i] !== array2[i]) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}","import { Directive, ElementRef, Renderer2, Input, OnInit } from '@angular/core';\r\nimport { GalleryService } from '../service/gallery.service';\r\nimport { GalleryImage } from '../service/gallery.state';\r\nimport { isEqual, pluck } from '../utils/index';\r\n\r\nimport { from } from 'rxjs';\r\nimport { map, finalize } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[gallerize]'\r\n})\r\nexport class GalleryDirective implements OnInit {\r\n\r\n  // A flag to check if content has changed\r\n  content: string;\r\n  srcList: string[] = [];\r\n\r\n  @Input() gallerize: string;\r\n  @Input() exclude: string;\r\n  @Input() subtree: string = '';\r\n  @Input() filter: Function;\r\n\r\n  constructor(public el: ElementRef, public renderer: Renderer2, public gallery: GalleryService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    let target = this.el.nativeElement;\r\n\r\n\r\n    var updateGallery = () => {\r\n\r\n      // skip if content is the same \r\n      if (!target || (this.content && this.content === target.innerText)) {\r\n        return;\r\n      }\r\n      else {\r\n        this.content = target.innerText;\r\n      }\r\n\r\n      const images: GalleryImage[] = [];\r\n\r\n      // get all img elements from content\r\n      const imageElements = target.querySelectorAll(this.subtree + ` img${this.gallerize}`)\r\n\r\n      if (!imageElements || !imageElements.length) {\r\n        this.srcList = [];\r\n        return;\r\n      }\r\n\r\n      let srcs = Array.from(imageElements).map((elem: HTMLImageElement) => {\r\n        return elem.dataset && elem.dataset.originalImageUrl ? elem.dataset.originalImageUrl : elem.src\r\n      })\r\n      //let srcs = pluck(imageElements, 'src');\r\n      let isSame = isEqual(this.srcList, srcs);\r\n      this.srcList = srcs;\r\n      from(imageElements).pipe(map((img: HTMLImageElement, i) => {\r\n        // add click event to the images\r\n        let src = img.dataset && img.dataset.originalImageUrl ? img.dataset.originalImageUrl : img.src;\r\n        this.renderer.setStyle(img, 'cursor', 'pointer');\r\n        if (!this.filter || this.filter(img)) {\r\n          this.renderer.setProperty(img, 'onclick', () => {\r\n            if (this.srcList.indexOf(src) !== -1) {\r\n              this.gallery.set(i);\r\n            }\r\n\r\n          });\r\n        }\r\n\r\n        // create an image item\r\n        images.push({\r\n          src: src,\r\n          text: img.alt\r\n        });\r\n      }),\r\n        finalize(() => {\r\n          if (!isSame) {\r\n            this.gallery.load(images)\r\n          }\r\n        }))\r\n        .subscribe();\r\n    }\r\n    // create an observer instance\r\n    var observer = new MutationObserver(updateGallery);\r\n\r\n    var config = { subtree: true, childList: true }\r\n    observer.observe(target, config);\r\n    updateGallery();\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  Renderer2\r\n} from '@angular/core';\r\n\r\nimport { Observable, Subject, of } from 'rxjs';\r\nimport { switchMap, tap, takeWhile, finalize } from 'rxjs/operators';\r\n\r\n\r\n@Directive({\r\n  selector: '[lazyImage]'\r\n})\r\nexport class LazyDirective {\r\n\r\n  // Image source\r\n  @Input('lazyImage') set lazyImage(imagePath: string) {\r\n    this.getImage(imagePath);\r\n  }\r\n\r\n  /** A subject to emit only last selected image */\r\n  lazyWorker = new Subject<string>();\r\n\r\n  @Output() lazyLoad = new EventEmitter<boolean>(false);\r\n\r\n  constructor(private el: ElementRef, private renderer: Renderer2) {\r\n\r\n    // this.lazyTest.switchMap((done) => (done) ? Observable.of(done).delay(1000) : Observable.of(done)\r\n    this.lazyWorker.pipe(switchMap((done) => of(done)))\r\n      .subscribe((img) => {\r\n        if (img) {\r\n          this.renderer.setProperty(this.el.nativeElement, 'src', img);\r\n          this.lazyLoad.emit(true)\r\n        } else {\r\n          this.lazyLoad.emit(false);\r\n        }\r\n      });\r\n  }\r\n\r\n  getImage(imagePath: string) {\r\n    this.lazyWorker.next('');\r\n    const img = this.renderer.createElement('img');\r\n    img.src = imagePath;\r\n\r\n    img.onload = () => {\r\n      this.lazyWorker.next(imagePath);\r\n    };\r\n\r\n    img.onerror = (err: any) => {\r\n      console.error('[GalleryLazyDirective]:', err);\r\n      this.lazyWorker.next('');\r\n    };\r\n  }\r\n\r\n}\r\n\r\n","/** This directive enable tap if HammerJS is loaded, otherwise it uses the normal click event (useful for thumbnail click) */\r\n\r\nimport { Directive, ElementRef, EventEmitter, Input, OnInit, Output, Renderer2 } from '@angular/core';\r\nimport { GalleryService } from '../service/gallery.service';\r\n\r\ndeclare const Hammer: any;\r\n\r\n@Directive({\r\n  selector: '[tap]'\r\n})\r\nexport class TapDirective implements OnInit {\r\n\r\n  @Input() tap: any;\r\n  @Output() tapClick = new EventEmitter();\r\n\r\n  constructor(private gallery: GalleryService, private el: ElementRef, private renderer: Renderer2) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setTapEvent();\r\n  }\r\n\r\n  /** Enable gestures if hammer is loaded */\r\n  setTapEvent() {\r\n\r\n    if (this.gallery.config.gestures) {\r\n      if (typeof Hammer === 'undefined') {\r\n\r\n        throw Error('[NgGallery]: HammerJS is undefined, make sure it is loaded');\r\n      } else {\r\n        /** Use tap for click event */\r\n        if (typeof Hammer !== 'undefined') {\r\n          const mc = new Hammer(this.el.nativeElement);\r\n          mc.on('tap', () => {\r\n            this.tapClick.emit();\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      /** Use normal click event */\r\n      this.renderer.setProperty(this.el.nativeElement, 'onclick', () => {\r\n        this.tapClick.emit();\r\n      });\r\n    }\r\n\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { GalleryService } from './service/gallery.service';\r\nimport { GalleryConfig } from './config/gallery.config';\r\n\r\nimport { GalleryComponent } from './component/gallery/gallery.component';\r\nimport { GalleryNavComponent } from './component/gallery-nav/gallery-nav.component';\r\nimport { GalleryThumbComponent } from './component/gallery-thumb/gallery-thumb.component';\r\nimport { GalleryTextComponent } from './component/gallery-text/gallery-text.component';\r\nimport { GalleryImageComponent } from './component/gallery-image/gallery-image.component';\r\nimport { GalleryLoaderComponent } from './component/gallery-loader/gallery-loader.component';\r\nimport { GalleryModalComponent } from './component/gallery-modal/gallery-modal.component';\r\nimport { GalleryBulletsComponent } from './component/gallery-bullets/gallery-bullets.component';\r\nimport { GalleryPlayerComponent } from './component/gallery-player/gallery-player.component';\r\nimport { GalleryMainComponent } from './component/gallery-main/gallery-main.component';\r\n\r\nimport { GalleryDirective } from './directive/gallery.directive';\r\nimport { LazyDirective } from './directive/lazy.directive';\r\nimport { TapDirective } from './directive/tap.directive';\r\n\r\n/** Initialize ConfigService with URL */\r\nexport function galleryFactory(config: GalleryConfig) {\r\n  return new GalleryService(config);\r\n}\r\n\r\nexport const CONFIG = new InjectionToken<GalleryConfig>('config');\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    GalleryComponent,\r\n    GalleryNavComponent,\r\n    GalleryThumbComponent,\r\n    GalleryDirective,\r\n    GalleryTextComponent,\r\n    GalleryImageComponent,\r\n    GalleryLoaderComponent,\r\n    GalleryModalComponent,\r\n    GalleryBulletsComponent,\r\n    GalleryPlayerComponent,\r\n    GalleryMainComponent,\r\n    TapDirective,\r\n    LazyDirective\r\n  ],\r\n  exports: [\r\n    GalleryComponent,\r\n    GalleryDirective,\r\n    GalleryModalComponent\r\n  ]\r\n})\r\nexport class GalleryModule {\r\n  static forRoot(config?: GalleryConfig): ModuleWithProviders {\r\n\r\n    return {\r\n      ngModule: GalleryModule,\r\n      providers: [\r\n        { provide: CONFIG, useValue: config },\r\n        {\r\n          provide: GalleryService,\r\n          useFactory: galleryFactory,\r\n          deps: [CONFIG]\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n\r\n"],"names":["BehaviorSubject","Subject","switchMap","of","rxInterval","takeWhile","tap","finalize","Optional","Component","ChangeDetectionStrategy","Renderer2","ElementRef","Input","trigger","state","style","transition","animate","ViewEncapsulation","HostListener","from","map","Directive","EventEmitter","Output","InjectionToken","NgModule","CommonModule"],"mappings":"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"}
