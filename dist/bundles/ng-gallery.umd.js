!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/animations")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/animations"],e):e(t.ngGallery=t.ngGallery||{},t.ng.core,t.ng.common,t.ng.common)}(this,function(t,e,n,r){"use strict";function i(t,e,n){if(void 0===n&&(n=void 0),!t||!e)return n;for(var r=e.split("."),i=t,o=0;o<r.length;o++){if(!i[r[o]])return n;i=i[r[o]]}return i||n}function o(t,e){function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t){return"function"==typeof t}function c(t){setTimeout(function(){throw t},0)}function a(t){return null!==t&&"object"==typeof t}function l(t){return t.reduce(function(t,e){return t.concat(e instanceof F?e.errors:e)},[])}function u(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof q?r:null}return!0}function f(t,e,n){if(t){if(t instanceof q)return t;if(t[X])return t[X]()}return t||e||n?new q(t,e,n):new q(J)}function p(t){return t}function d(t){return 0===t.length?p:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}function h(t){if(t||(t=Y.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function y(t){return t&&"function"==typeof t.schedule}function g(t,e){return new tt(function(n){var r=new Q,i=0;return r.add(e.schedule(function(){if(i===t.length)return void n.complete();n.next(t[i++]),n.closed||r.add(this.schedule())})),r})}function b(t,e){return e?g(t,e):new tt(pt(t))}function m(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return y(n)?(t.pop(),g(t,n)):b(t)}function v(){}function x(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new yt(t,e))}}function w(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}function I(t,e,n,r,i){if(void 0===i&&(i=new mt(t,n,r)),!i.closed)return e instanceof tt?e.subscribe(i):_t(e)(i)}function j(t,e){return new tt(function(n){var r=new Q;return r.add(e.schedule(function(){var i=t[K]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}function _(t,e){return new tt(function(n){var r=new Q;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}function S(t,e){if(!t)throw new Error("Iterable cannot be null");return new tt(function(n){var r,i=new Q;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[xt](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}function O(t){return t&&"function"==typeof t[K]}function R(t){return t&&"function"==typeof t[xt]}function P(t,e){if(null!=t){if(O(t))return j(t,e);if(w(t))return _(t,e);if(jt(t))return g(t,e);if(R(t)||"string"==typeof t)return S(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function E(t,e){return e?P(t,e):t instanceof tt?t:new tt(_t(t))}function D(t){return!B(t)&&t-parseFloat(t)+1>=0}function z(t,e){return void 0===t&&(t=0),void 0===e&&(e=ht),(!D(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=ht),new tt(function(n){return n.add(e.schedule(k,t,{subscriber:n,counter:0,period:t})),n})}function k(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function Z(t){return function(e){return e.lift(new St(t))}}function H(t,e){return"function"==typeof e?function(n){return n.pipe(H(function(n,r){return E(t(n,r)).pipe(x(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new Rt(t))}}function T(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new Et(t,e))}}function C(t,e,n){return function(r){return r.lift(new zt(t,e,n))}}function N(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=[]),t.length!==e.length)return!1;for(var n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function M(t){return new Ct(t)}var G,V={images:void 0,prevIndex:0,currIndex:0,hasNext:void 0,hasPrev:void 0,active:!1},L={style:{background:"#121519",width:"900px",height:"500px"},animation:"fade",loader:{width:"50px",height:"50px",position:"center",icon:"oval"},description:{position:"bottom",overlay:!1,text:!0,counter:!0,style:{color:"red"}},player:{autoplay:!1,speed:3e3},thumbnails:{width:120,height:90,position:"left",space:30}},A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},W=!1,Y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){(new Error).stack}W=t},get useDeprecatedSynchronousErrorHandling(){return W}},J={closed:!0,next:function(t){},error:function(t){if(Y.useDeprecatedSynchronousErrorHandling)throw t;c(t)},complete:function(){}},B=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}(),U=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),F=U,Q=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._unsubscribe,o=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var c=0;c<r.length;++c){var u=r[c];u.remove(this)}if(s(i))try{i.call(this)}catch(t){e=t instanceof F?l(t.errors):[t]}if(B(o))for(var c=-1,f=o.length;++c<f;){var p=o[c];if(a(p))try{p.unsubscribe()}catch(t){e=e||[],t instanceof F?e=e.concat(l(t.errors)):e.push(t)}}if(e)throw new F(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}(),X=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),q=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=J;break;case 1:if(!n){o.destination=J;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new $(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new $(o,n,r,i)}return o}return o(e,t),e.prototype[X]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(Q),$=function(t){function e(e,n,r,i){var o=t.call(this)||this;o._parentSubscriber=e;var c,a=o;return s(n)?c=n:n&&(c=n.next,r=n.error,i=n.complete,n!==J&&(a=Object.create(n),s(a.unsubscribe)&&o.add(a.unsubscribe.bind(a)),a.unsubscribe=o.unsubscribe.bind(o))),o._context=a,o._next=c,o._error=r,o._complete=i,o}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=Y.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):c(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;c(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};Y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),Y.useDeprecatedSynchronousErrorHandling)throw t;c(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!Y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return Y.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(c(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(q),K=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}(),tt=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=f(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||Y.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Y.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Y.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),u(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=h(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[K]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:d(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}(),et=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),nt=et,rt=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return o(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(Q),it=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return o(e,t),e}(q),ot=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype[X]=function(){return new it(this)},e.prototype.lift=function(t){var e=new st(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new nt;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new nt;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new nt;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new nt;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new nt;return this.hasError?(t.error(this.thrownError),Q.EMPTY):this.isStopped?(t.complete(),Q.EMPTY):(this.observers.push(t),new rt(this,t))},e.prototype.asObservable=function(){var t=new tt;return t.source=this,t},e.create=function(t,e){return new st(t,e)},e}(tt),st=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return o(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):Q.EMPTY},e}(ot),ct=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new nt;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(ot),at=function(t){function e(e,n){return t.call(this)||this}return o(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(Q),lt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return o(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(at),ut=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),ft=function(t){function e(n,r){void 0===r&&(r=ut.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return o(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(ut),pt=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};G||(G={});var dt=new ft(lt),ht=dt,yt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new gt(t,this.project,this.thisArg))},t}(),gt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(q),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(q),mt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return o(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(q),vt=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,c),e}},xt=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),wt=function(t){return function(e){for(var n=t[xt]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},It=function(t){return function(e){var n=t[K]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},jt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t},_t=function(t){if(t&&"function"==typeof t[K])return It(t);if(jt(t))return pt(t);if(w(t))return vt(t);if(t&&"function"==typeof t[xt])return wt(t);var e=a(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)},St=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Ot(t,this.callback))},t}(),Ot=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new Q(n)),r}return o(e,t),e}(q),Rt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Pt(t,this.project))},t}(),Pt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return o(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new mt(this,e,n),o=this.destination;o.add(i),this.innerSubscription=I(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(bt),Et=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new Dt(t,this.predicate,this.inclusive))},t}(),Dt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return o(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(q),zt=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new kt(t,this.nextOrObserver,this.error,this.complete))},t}(),kt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=v,o._tapError=v,o._tapComplete=v,o._tapError=r||v,o._tapComplete=i||v,s(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||v,o._tapError=n.error||v,o._tapComplete=n.complete||v),o}return o(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(q),Zt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ht=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Tt=this&&this.__param||function(t,e){return function(n,r){e(n,r,t)}},Ct=function(){function t(t){var e=this;this.config=L,this.state=new ct(V),this.config=Object.assign({},L,t),this.player=new ot,this.player.pipe(H(function(t){return t?e.playerEngine(t):m(null)})).subscribe()}return t.prototype.load=function(t){this.state.next({images:t,currIndex:0,hasNext:t.length>1,hasPrev:!1,active:!1})},t.prototype.set=function(t){var e=this.state.getValue();this.state.next(Object.assign({},e,{prevIndex:e.currIndex,currIndex:t,hasNext:t<i(e,"images.length",0)-1,hasPrev:t>0,active:!0}))},t.prototype.next=function(){var t=this.state.getValue();if(t.hasNext){var e=(t.currIndex||0)+1;this.set(e)}else this.set(0)},t.prototype.prev=function(){var t=this.state.getValue();if(t.hasPrev){var e=(t.currIndex||0)-1;this.set(e)}else this.set(i(t,"images.length",0)-1)},t.prototype.close=function(){var t=this.state.getValue();this.state.next(Object.assign({},t,{active:!1,play:!1})),this.stop()},t.prototype.reset=function(){this.state.next(V),this.stop()},t.prototype.play=function(t){var e=t||i(this.config,"player.speed",0)||2e3,n=this.state.getValue();this.state.next(Object.assign({},n,{play:!0,active:!0})),this.player.next(e)},t.prototype.stop=function(){this.player.next(0)},t.prototype.playerEngine=function(t){var e=this;return z(t).pipe(T(function(){return e.state.getValue().play||!1}),C(function(){return e.next()}),Z(function(){return e.state.next(Object.assign({},e.state.getValue(),{play:!1}))}))},t=Zt([Tt(0,e.Optional()),Ht("design:paramtypes",[Object])],t)}(),Nt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Mt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gt=function(){function t(t){this.gallery=t}return t.prototype.ngOnDestroy=function(){this.gallery.reset()},t=Nt([e.Component({selector:"gallery",template:'<gallery-main *ngIf="gallery.state | async as state" [state]="state" [config]="gallery.config"></gallery-main>',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:["\n    gallery-main{display:-ms-flexbox;display:flex;height:500px}\n  "]}),Mt("design:paramtypes",[Ct])],t)}(),Vt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Lt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},At=function(){function t(t){this.gallery=t}return Vt([e.Input(),Lt("design:type",Object)],t.prototype,"state",void 0),t=Vt([e.Component({selector:"gallery-nav",template:'\n    <div *ngIf="state.images.length > 1" class="g-nav">\n\n      <div class="g-nav-prev" (click)="gallery.prev()">\n        <i class="prev-arrow-ico"></i>\n      </div>\n\n      <div class="g-nav-next" (click)="gallery.next()">\n        <i class="next-arrow-ico"></i>\n      </div>\n\n    </div>\n  ',styles:["\n    *{box-sizing:border-box}:host{z-index:1;position:absolute;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex}@media (max-width:480px){:host{display:none}}.g-nav{-ms-flex:1;flex:1;height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;opacity:0;transition:all .4s linear;cursor:pointer}.g-nav:hover{opacity:1}.g-nav-next,.g-nav-prev{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:100%;opacity:.7;position:relative;overflow:hidden;transition:all .2s ease;z-index:0}.g-nav-next:hover,.g-nav-prev:hover{opacity:1}.g-nav-next{padding-right:.7em;-ms-flex:1;flex:1;-ms-flex-pack:end;justify-content:flex-end}.g-nav-prev{padding-left:.7em;width:20%}.next-arrow-ico,.prev-arrow-ico{width:45px;height:80px}.next-arrow-ico{background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PiAgPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQxNC40OTYgNDE0LjQ5NiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDE0LjQ5NiA0MTQuNDk2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+IDxkZWZzIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGZpbHRlciBpZD0iZHJvcHNoYWRvdyIgPiAgPGZlR2F1c3NpYW5CbHVyIGluPSJTb3VyY2VBbHBoYSIgc3RkRGV2aWF0aW9uPSIzIi8+ICAgPGZlT2Zmc2V0IGR4PSIyIiBkeT0iMiIgcmVzdWx0PSJvZmZzZXRibHVyIi8+ICAgPGZlTWVyZ2U+IDxmZU1lcmdlTm9kZS8+PGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIi8+ICAgPC9mZU1lcmdlPjwvZmlsdGVyPjwvZGVmcz4gIDxwb2x5Z29uIHN0eWxlPSJmaWxsOiNmZmY7IiBmaWx0ZXI9InVybCgjZHJvcHNoYWRvdykiIHBvaW50cz0iMTE4LjEyNiwwIDg5Ljc5NiwyOC4yMzggMjY4LjIyMywyMDcuMjQ4IDg5Ljc5NiwzODYuMjU4IDExOC4xMjYsNDE0LjQ5NiAzMjQuNywyMDcuMjQ4ICIvPjwvc3ZnPg==) no-repeat 50%}.prev-arrow-ico{background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA0MTQuNDk2IDQxNC40OTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQxNC40OTYgNDE0LjQ5NjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxkZWZzIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGZpbHRlciBpZD0iZHJvcHNoYWRvdyIgPiAgPGZlR2F1c3NpYW5CbHVyIGluPSJTb3VyY2VBbHBoYSIgc3RkRGV2aWF0aW9uPSIzIi8+ICAgPGZlT2Zmc2V0IGR4PSIyIiBkeT0iMiIgcmVzdWx0PSJvZmZzZXRibHVyIi8+ICAgPGZlTWVyZ2U+IDxmZU1lcmdlTm9kZS8+PGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIi8+ICAgPC9mZU1lcmdlPjwvZmlsdGVyPjwvZGVmcz48cG9seWdvbiBzdHlsZT0iZmlsbDojZmZmOyIgZmlsdGVyPSJ1cmwoI2Ryb3BzaGFkb3cpIiBwb2ludHM9IjMyNC43LDI4LjIzOCAyOTYuMzcsMCA4OS43OTYsMjA3LjI0OCAyOTYuMzcsNDE0LjQ5NiAzMjQuNywzODYuMjU4IDE0Ni4yNzMsMjA3LjI0OCAiLz48L3N2Zz4=) no-repeat 50%}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),Lt("design:paramtypes",[Ct])],t)}(),Wt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Yt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Jt=function(){function t(t,e,n){this.gallery=t,this.el=e,this.renderer=n}return t.prototype.ngOnInit=function(){var t=this;if(this.contStyle=this.getContainerStyle(),this.gallery.config.gestures){if("undefined"==typeof Hammer)throw Error("[NgGallery]: HammerJS is undefined, make sure it is loaded");var e=this.el.nativeElement,n=new Hammer(e);n.on("panstart",function(){t.renderer.removeClass(e,"g-pan-reset")}),n.on("panend",function(){t.renderer.addClass(e,"g-pan-reset")}),n.on("pan",function(n){t.renderer.setStyle(e,"transform","translate3d("+n.deltaX+"px, 0px, 0px)")}),n.on("swipeleft",function(){t.gallery.next()}),n.on("swiperight",function(){t.gallery.prev()})}},t.prototype.translateThumbs=function(){return"translate3d("+-(i(this.state,"currIndex",0)*i(this.config,"width",0)+i(this.config,"width",0)/2)+"px, 0, 0)"},t.prototype.getContainerStyle=function(){var t="top"===this.config.position?0:2;return this.renderer.setStyle(this.el.nativeElement,"order",t),{height:this.config.height+"px",margin:this.config.space+"px"}},t.prototype.getThumbImage=function(t){var e=i(this.state,"images",[])[t]||{};return"url("+(e.thumbnail||e.src)+")"},Wt([e.Input(),Yt("design:type",Object)],t.prototype,"state",void 0),Wt([e.Input(),Yt("design:type",Object)],t.prototype,"config",void 0),t=Wt([e.Component({selector:"gallery-thumb",template:'\n    <div #container class="g-thumb-container" [ngStyle]="contStyle">\n\n      <div class="g-thumbs" [style.transform]="translateThumbs()">\n\n        <div class="g-thumb" *ngFor="let image of state.images; let i = index"\n             [class.g-thumb-current]="i === state.currIndex"\n             [style.width.px]="gallery.config.thumbnails.width"\n             [style.height.px]="gallery.config.thumbnails.height">\n\n          <div class="g-thumb-image" [style.backgroundImage]="getThumbImage(i)"\n               [tap] (tapClick)="gallery.set(i)">\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n  ',
styles:["\n    :host{display:block;z-index:1}.g-thumb-container{position:relative;z-index:2;width:100%;height:100%;left:0}.g-thumb-container,.g-thumbs{top:0;display:-ms-flexbox;display:flex}.g-thumbs{position:absolute;left:50%;-ms-flex-align:center;align-items:center;transition:transform .3s ease-in;transform:translateZ(0)}.g-thumb{padding:8px;opacity:.5;transition:all .2s linear}.g-thumb-image{cursor:pointer;width:100%;height:100%;background-position:50%;background-size:cover;box-shadow:0 0 4px rgba(0,0,0,.3)}.g-thumb-current{opacity:1;padding:2px}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),Yt("design:paramtypes",[Ct,e.ElementRef,e.Renderer2])],t)}(),Bt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ut=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ft=function(){function t(t,e){this.el=t,this.renderer=e}return t.prototype.ngOnInit=function(){var t=this.el.nativeElement;this.config.overlay&&this.renderer.setStyle(t,"position","absolute"),"top"===this.config.position?(this.renderer.setStyle(t,"order",0),this.renderer.setStyle(t,"top",0),this.renderer.setStyle(t,"bottom","unset")):(this.renderer.setStyle(t,"order",2),this.renderer.setStyle(t,"top","unset"),this.renderer.setStyle(t,"bottom",0))},Bt([e.Input(),Ut("design:type",Object)],t.prototype,"state",void 0),Bt([e.Input(),Ut("design:type",Object)],t.prototype,"config",void 0),t=Bt([e.Component({selector:"gallery-text",template:'\n    <div class="g-text-container" [ngStyle]="config.style">\n      <div *ngIf="config.text" class="g-text" [innerHtml]="state.images[state.currIndex]?.text">\n      </div>\n      <div *ngIf="config.counter" class="g-number">\n        {{(state.currIndex + 1) + \'/\' + state.images.length}}\n      </div>\n    </div>\n  ',styles:["\n    *{box-sizing:border-box}:host{position:relative;left:0;right:0;z-index:1}.g-text-container{padding:1em 2em;color:#ccc;font-size:13px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-line-pack:center;align-content:center;background-clip:padding-box;-webkit-font-smoothing:antialiased}.g-text{-ms-flex:1;flex:1}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),Ut("design:paramtypes",[e.ElementRef,e.Renderer2])],t)}(),Qt=[r.trigger("imgAnimate",[r.state("fade",r.style({opacity:1})),r.transition("none => fade",[r.style({opacity:0}),r.animate("0.5s ease-in")])])],Xt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},qt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$t=function(){function t(t,e,n){this.gallery=t,this.el=e,this.renderer=n}return t.prototype.ngOnInit=function(){var t=this;if(this.config.gestures){if("undefined"==typeof Hammer)throw Error("[NgGallery]: HammerJS is undefined, make sure it is loaded");var e=this.el.nativeElement,n=new Hammer(e);n.on("panstart",function(){t.renderer.removeClass(e,"g-pan-reset")}),n.on("panend",function(){t.renderer.addClass(e,"g-pan-reset")}),n.on("pan",function(n){t.renderer.setStyle(e,"transform","translate3d("+n.deltaX+"px, 0px, 0px)")}),n.on("swipeleft",function(){t.gallery.next()}),n.on("swiperight",function(){t.gallery.prev()})}},t.prototype.imageLoad=function(t){if(this.loading=!t,t)switch(this.config.animation){case"fade":this.animate="fade";break;default:this.animate="none"}else this.animate="none"},Xt([e.Input(),qt("design:type",Object)],t.prototype,"state",void 0),Xt([e.Input(),qt("design:type",Object)],t.prototype,"config",void 0),t=Xt([e.Component({selector:"gallery-image",template:'\n    <div [@imgAnimate]="animate" class="g-image">\n      <img [lazyImage]="state.images[state.currIndex].src" (lazyLoad)="imageLoad($event)">\n    </div>\n\n    <gallery-loader *ngIf="loading" [config]="config.loader"></gallery-loader>\n  ',styles:["\n    :host{-ms-flex-order:1;order:1;-ms-flex:1;flex:1;flex-direction:column;transform:translateZ(0)}.g-image,:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column}.g-image{position:absolute;left:0;right:0;top:0;bottom:0;background-repeat:no-repeat;background-size:contain;background-position:50%;z-index:1;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.g-image img{box-shadow:0 0 4px rgba(0,0,0,.3);pointer-events:none;display:block;max-width:100%;max-height:100%}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush,animations:Qt}),qt("design:paramtypes",[Ct,e.ElementRef,e.Renderer2])],t)}(),Kt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},te=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ee=function(){function t(t){this.gallery=t}return t.prototype.ngOnInit=function(){this.icon=this.getIcon(),this.styles=this.getStyle()},t.prototype.getIcon=function(){switch(this.config.icon){case"puff":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/puff.svg";case"spinning-circles":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/ball-triangle.svg";case"three-dots":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/three-dots.svg";case"oval":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/oval.svg";case"ball-triangle":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/ball-triangle.svg";case"bars":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/bars.svg";case"tail-spin":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/tail-spin.svg";default:return this.config.icon}},t.prototype.getStyle=function(){switch(this.config.position){case"topLeft":return{"align-items":"flex-start","justify-content":"flex-start"};case"topRight":return{"align-items":"flex-start","justify-content":"flex-end"};case"bottomLeft":return{"align-items":"flex-end","justify-content":"flex-start"};case"bottomRight":return{"align-items":"flex-end","justify-content":"flex-end"};default:return{"align-items":"center","justify-content":"center"}}},Kt([e.Input(),te("design:type",Object)],t.prototype,"config",void 0),t=Kt([e.Component({selector:"gallery-loader",template:'\n    <div class="g-loader" [ngStyle]="styles">\n      <img [src]="icon" [style.width]="config.width" [style.height]="config.height"/>\n    </div>\n  ',styles:["\n    *{box-sizing:border-box}:host{z-index:1}.g-loader{z-index:2;position:absolute;width:100%;height:100%;display:-ms-flexbox;display:flex;padding:1em}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),te("design:paramtypes",[Ct])],t)}(),ne=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},re=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ie=function(){function t(t){this.gallery=t,this.closeButton=!0}return t.prototype.keyboardInput=function(t){if(this.gallery.state.getValue().active)switch(t.stopPropagation(),t.keyCode){case 37:this.gallery.prev();break;case 39:case 13:this.gallery.next();break;case 27:this.gallery.close();break;default:return}},t.prototype.ngOnDestroy=function(){this.gallery.reset()},ne([e.Input(),re("design:type",Object)],t.prototype,"closeButton",void 0),ne([e.HostListener("body:keydown",["$event"]),re("design:type",Function),re("design:paramtypes",[KeyboardEvent]),re("design:returntype",void 0)],t.prototype,"keyboardInput",null),t=ne([e.Component({selector:"gallery-modal",template:'\n    <div *ngIf="gallery.state | async as state">\n\n      <div *ngIf="state.active" class="g-modal">\n\n        <div class="g-btn-close-container">\n          <div *ngIf="closeButton" class="g-btn-close" (click)="gallery.close()"></div>\n        </div>\n\n        <gallery-main [@popup] [state]="state" [config]="gallery.config"></gallery-main>\n\n        <div class="g-overlay" (click)="gallery.close()"></div>\n\n      </div>\n\n    </div>\n  ',styles:["\n    *{box-sizing:border-box}.g-modal{position:fixed;left:0;right:0;top:0;bottom:0;background-color:rgba(0,0,0,.6);z-index:1;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}@media (max-width:480px){.g-modal{padding:0}}.g-overlay{position:absolute;left:0;right:0;top:0;bottom:0}.g-btn-close-container{width:100%;display:-ms-flexbox;display:flex}@media (max-width:480px){.g-btn-close-container{-ms-flex-pack:end;justify-content:flex-end}.g-btn-close-container .g-btn-close{margin:.5em;position:relative;right:0;top:0}}.g-btn-close{position:absolute;right:1em;top:1em;z-index:2;cursor:pointer;width:30px;height:30px;transition:all .2s linear;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUwIDUwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MCA1MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxjaXJjbGUgc3R5bGU9ImZpbGw6I0Q3NUE0QTsiIGN4PSIyNSIgY3k9IjI1IiByPSIyNSIvPjxwb2x5bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojRkZGRkZGO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgcG9pbnRzPSIxNiwzNCAyNSwyNSAzNCwxNiAiLz48cG9seWxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6I0ZGRkZGRjtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIHBvaW50cz0iMTYsMTYgMjUsMjUgMzQsMzQgIi8+PC9zdmc+)}.g-btn-close:active{transform:rotate(180deg) scale(.9)}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush,animations:[r.trigger("popup",[r.state("in",r.style({opacity:.8,transform:"scale(0.2) translate3d(0, 100px, 0)"})),r.transition("void => *",[r.style({opacity:.8,transform:"scale(0.2) translate3d(0, 100px, 0)"}),r.animate(300)]),r.transition("* => void",[r.animate(300,r.style({opacity:1,transform:"scale(1)  translate3d(0, 0, 0)"}))])])]}),re("design:paramtypes",[Ct])],t)}(),oe=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},se=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ce=function(){function t(t,e,n){this.gallery=t,this.renderer=e,this.el=n}return t.prototype.ngOnInit=function(){if(this.config.position){var t=void 0,e=void 0,n=void 0,r="unset",i="unset";switch(this.config.position){case"bottom":t="row",n="auto",e="100%","unset",i="0";break;case"left":t="column",e="auto",n="100%";break;case"right":e="auto",n="100%",t="column",r="0";break;default:t="row",n="auto",e="100%"}this.renderer.setStyle(this.el.nativeElement,"right",r),this.renderer.setStyle(this.el.nativeElement,"bottom",i),this.renderer.setStyle(this.el.nativeElement,"width",e),this.renderer.setStyle(this.el.nativeElement,"height",n),this.renderer.setStyle(this.el.nativeElement,"flex-direction",t)}},oe([e.Input(),se("design:type",Object)],t.prototype,"state",void 0),oe([e.Input(),se("design:type",Object)],t.prototype,"config",void 0),t=oe([e.Component({selector:"gallery-bullets",template:'\n    <div class="g-bullet"\n         *ngFor="let image of state.images; let i = index"\n         [class.g-bullet-curr]="i === state.currIndex"\n         (click)="gallery.set(i)">\n\n      <div class="g-bullet-inner" [ngStyle]="config.style"></div>\n\n    </div>\n  ',styles:["\n    :host{position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.g-bullet,:host{display:-ms-flexbox;display:flex}.g-bullet{cursor:pointer;z-index:1}.g-bullet-inner{margin:1em;height:4px;width:4px;background-color:hsla(0,0%,100%,.5);border-radius:2px;box-shadow:0 0 6px rgba(0,0,0,.8);transition:all .2s ease}.g-bullet-curr .g-bullet-inner{transform:scale(1.5);background-color:#fff}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),se("design:paramtypes",[Ct,e.Renderer2,e.ElementRef])],t)}(),ae=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},le=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ue=function(){function t(t){this.gallery=t}return t.prototype.ngOnInit=function(){this.config.autoplay&&this.gallery.play()},ae([e.Input(),le("design:type",Object)],t.prototype,"config",void 0),ae([e.Input(),le("design:type",Object)],t.prototype,"state",void 0),t=ae([e.Component({selector:"gallery-player",template:'\n    \x3c!--<div class="g-player-btns">--\x3e\n      \x3c!--<div *ngIf="!state.play" class="g-player-btn" (click)="gallery.play()">▶</div>--\x3e\n      \x3c!--<div *ngIf="state.play" class="g-player-btn" (click)="gallery.stop()">⏸</div>--\x3e\n    \x3c!--</div>--\x3e\n  ',styles:["\n    :host{position:absolute;z-index:1}.g-player-btns{display:-ms-flexbox;display:flex;padding:.5em 1em}.g-player-btn{margin-right:.5em;color:#fff;cursor:pointer}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),le("design:paramtypes",[Ct])],t)}(),fe=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},pe=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},de=function(){function t(t){this.gallery=t}return t.prototype.ngOnInit=function(){var t=this.config.thumbnails?this.config.thumbnails.position:0;this.thumbDirection="left"===t||"right"===t?"row":"column"},fe([e.Input(),pe("design:type",Object)],t.prototype,"state",void 0),fe([e.Input(),pe("design:type",Object)],t.prototype,"config",void 0),t=fe([e.Component({selector:"gallery-main",template:'\n    <div class="g-container" [style.flexDirection]="thumbDirection" [ngStyle]="config.style">\n\n      <gallery-thumb *ngIf="config.thumbnails" [state]="state" [config]="config.thumbnails"\n                     [style.background]="config.style?.background"></gallery-thumb>\n\n      <div class="g-box">\n\n        <div class="g-image-box">\n\n          <gallery-image [state]="state" [config]="config" (loading)="loading = $event"></gallery-image>\n\n          <gallery-nav *ngIf="config.navigation" [state]="state"></gallery-nav>\n\n          \x3c!--<div class="g-layer" *ngIf="state.images[state.currIndex].layer" [innerHtml]="state.images[state.currIndex].layer"></div>--\x3e\n\n        </div>\n\n        <gallery-text *ngIf="config.description" [state]="state" [config]="config.description"></gallery-text>\n\n        <gallery-bullets *ngIf="config.bullets" [state]="state" [config]="config.bullets"></gallery-bullets>\n\n        <gallery-player *ngIf="config.player" [state]="state" [config]="config.player"></gallery-player>\n\n      </div>\n\n    </div>\n  ',styles:["\n    gallery-main{-ms-flex:1;flex:1;width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}gallery-main *{box-sizing:border-box}.g-container{overflow:hidden;position:relative;z-index:1;max-height:100%;max-width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}@media (max-width:480px){.g-container{width:100%!important;-ms-flex:1;flex:1;-ms-flex-direction:column!important;flex-direction:column!important}}.g-box{height:100%}.g-box,.g-image-box{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1;flex:1;-ms-flex-order:1;order:1;height:100%}.g-layer{position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}.g-pan-reset{transition:all .3s linear;transform:translateZ(0)!important}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}),pe("design:paramtypes",[Ct])],t)}(),he=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ye=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ge=function(){function t(t,e,n){this.el=t,this.renderer=e,this.gallery=n,this.srcList=[],this.subtree=""}return t.prototype.ngOnInit=function(){var t=this,e=this.el.nativeElement,n=function(){if(e&&(!t.content||t.content!==e.innerText)){t.content=e.innerText;var n=[],r=e.querySelectorAll(t.subtree+" img"+t.gallerize);if(!r||!r.length)return void(t.srcList=[]);var i=Array.from(r).map(function(t){return t.dataset&&t.dataset.originalImageUrl?t.dataset.originalImageUrl:t.src}),o=N(t.srcList,i);t.srcList=i,E(r).pipe(x(function(e,r){var i=e.dataset&&e.dataset.originalImageUrl?e.dataset.originalImageUrl:e.src;t.renderer.setStyle(e,"cursor","pointer"),t.filter&&!t.filter(e)||t.renderer.setProperty(e,"onclick",function(){-1!==t.srcList.indexOf(i)&&t.gallery.set(r)}),n.push({src:i,text:e.alt})}),Z(function(){o||t.gallery.load(n)})).subscribe()}},r=new MutationObserver(n),i={subtree:!0,childList:!0};r.observe(e,i),n()},he([e.Input(),ye("design:type",String)],t.prototype,"gallerize",void 0),he([e.Input(),ye("design:type",String)],t.prototype,"exclude",void 0),he([e.Input(),ye("design:type",String)],t.prototype,"subtree",void 0),he([e.Input(),ye("design:type",Function)],t.prototype,"filter",void 0),t=he([e.Directive({selector:"[gallerize]"}),ye("design:paramtypes",[e.ElementRef,e.Renderer2,Ct])],t)}(),be=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},me=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ve=function(){function t(t,n){var r=this;this.el=t,this.renderer=n,this.lazyWorker=new ot,this.lazyLoad=new e.EventEmitter(!1),this.lazyWorker.pipe(H(function(t){return m(t)})).subscribe(function(t){t?(r.renderer.setProperty(r.el.nativeElement,"src",t),r.lazyLoad.emit(!0)):r.lazyLoad.emit(!1)})}return Object.defineProperty(t.prototype,"lazyImage",{set:function(t){this.getImage(t)},enumerable:!0,configurable:!0}),t.prototype.getImage=function(t){var e=this;this.lazyWorker.next("");var n=this.renderer.createElement("img");n.src=t,n.onload=function(){e.lazyWorker.next(t)},n.onerror=function(t){console.error("[GalleryLazyDirective]:",t),e.lazyWorker.next("")}},be([e.Input("lazyImage"),me("design:type",String),me("design:paramtypes",[String])],t.prototype,"lazyImage",null),be([e.Output(),me("design:type",Object)],t.prototype,"lazyLoad",void 0),t=be([e.Directive({selector:"[lazyImage]"}),me("design:paramtypes",[e.ElementRef,e.Renderer2])],t)}(),xe=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},we=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ie=function(){function t(t,n,r){this.gallery=t,this.el=n,this.renderer=r,this.tapClick=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.setTapEvent()},t.prototype.setTapEvent=function(){var t=this;if(this.gallery.config.gestures){if("undefined"==typeof Hammer)throw Error("[NgGallery]: HammerJS is undefined, make sure it is loaded");if("undefined"!=typeof Hammer){new Hammer(this.el.nativeElement).on("tap",function(){t.tapClick.emit()})}}else this.renderer.setProperty(this.el.nativeElement,"onclick",function(){t.tapClick.emit()})},xe([e.Input(),we("design:type",Object)],t.prototype,"tap",void 0),xe([e.Output(),we("design:type",Object)],t.prototype,"tapClick",void 0),t=xe([e.Directive({selector:"[tap]"}),we("design:paramtypes",[Ct,e.ElementRef,e.Renderer2])],t)}(),je=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},_e=new e.InjectionToken("config"),Se=function(){function t(){}r=t,t.forRoot=function(t){return{ngModule:r,providers:[{provide:_e,useValue:t},{provide:Ct,useFactory:M,deps:[_e]}]}};var r;return t=r=je([e.NgModule({imports:[n.CommonModule],declarations:[Gt,At,Jt,ge,Ft,$t,ee,ie,ce,ue,de,Ie,ve],exports:[Gt,ge,ie]})],t)}();t.GalleryModule=Se,t.GalleryService=Ct,Object.defineProperty(t,"__esModule",{value:!0})});
