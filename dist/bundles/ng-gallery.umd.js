!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/animations")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/animations"],e):e(t.ngGallery=t.ngGallery||{},t.ng.core,t.ng.common,t.ng.common)}(this,function(t,e,n,r){"use strict";function i(t,e,n){if(void 0===n&&(n=void 0),!t||!e)return n;for(var r=e.split("."),i=t,o=0;o<r.length;o++){if(!i[r[o]])return n;i=i[r[o]]}return i||n}function o(t,e){function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t){return"function"==typeof t}function c(t){setTimeout(function(){throw t})}function a(t){return null!=t&&"object"==typeof t}function l(){try{return Y.apply(this,arguments)}catch(t){return $.e=t,$}}function u(t){return Y=t,l}function f(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}function p(t){return t.reduce(function(t,e){return t.concat(e instanceof K?e.errors:e)},[])}function d(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof nt?r:null}return!0}function h(t,e,n){if(t){if(t instanceof nt)return t;if(t[et])return t[et]()}return t||e||n?new nt(t,e,n):new nt(X)}function y(){}function g(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:y}function b(t){if(t||(t=Q.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function m(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}function v(t){return t?x(t):gt}function x(t){return new ot(function(e){return t.schedule(function(){return e.complete()})})}function w(t){return t&&"function"==typeof t.schedule}function I(t,e){return new ot(e?function(n){var r=new tt,i=0;return r.add(e.schedule(function(){if(i===t.length)return void n.complete();n.next(t[i++]),n.closed||r.add(this.schedule())})),r}:bt(t))}function _(t){var e=new ot(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function j(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(w(n)?t.pop():n=void 0,t.length){case 0:return v(n);case 1:return n?I(t,n):_(t[0]);default:return I(t,n)}}function S(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}function O(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new vt(t,e))}}function R(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}function P(t,e,n,r,i){if(void 0===i&&(i=new It(t,n,r)),!i.closed)return Pt(e)(i)}function E(t){return t&&"function"==typeof t[it]}function D(t){return t&&"function"==typeof t[jt]}function z(t,e){return new ot(e?function(n){var r=new tt;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:_t(t))}function k(t,e){if(!t)throw new Error("Iterable cannot be null");return new ot(e?function(n){var r,i=new tt;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[jt](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:St(t))}function Z(t,e){return new ot(e?function(n){var r=new tt;return r.add(e.schedule(function(){var i=t[it]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Ot(t))}function H(t,e){if(!e)return t instanceof ot?t:new ot(Pt(t));if(null!=t){if(E(t))return Z(t,e);if(R(t))return z(t,e);if(Rt(t))return I(t,e);if(D(t)||"string"==typeof t)return k(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function T(t){return!q(t)&&t-parseFloat(t)+1>=0}function C(t,e){return void 0===t&&(t=0),void 0===e&&(e=mt),(!T(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=mt),new ot(function(n){return n.add(e.schedule(N,t,{subscriber:n,counter:0,period:t})),n})}function N(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function M(t,e,n){return function(r){return r.lift(new Et(t,e,n))}}function G(t){return function(e){return e.lift(new zt(t))}}function V(t,e){return"function"==typeof e?function(n){return n.pipe(V(function(n,r){return H(t(n,r)).pipe(O(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new Zt(t))}}function L(t){return function(e){return e.lift(new Tt(t))}}function A(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=[]),t.length!==e.length)return!1;for(var n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function W(t){return new Vt(t)}var Y,J={images:void 0,prevIndex:0,currIndex:0,hasNext:void 0,hasPrev:void 0,active:!1},B={style:{background:"#121519",width:"900px",height:"500px"},animation:"fade",loader:{width:"50px",height:"50px",position:"center",icon:"oval"},description:{position:"bottom",overlay:!1,text:!0,counter:!0,style:{color:"red"}},player:{autoplay:!1,speed:3e3},thumbnails:{width:120,height:90,position:"left",space:30}},U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},F=!1,Q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){(new Error).stack}F=t},get useDeprecatedSynchronousErrorHandling(){return F}},X={closed:!0,next:function(t){},error:function(t){if(Q.useDeprecatedSynchronousErrorHandling)throw t;c(t)},complete:function(){}},q=Array.isArray||function(t){return t&&"number"==typeof t.length},$={e:{}};f.prototype=Object.create(Error.prototype);var K=f,tt=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,r=n._parent,i=n._parents,o=n._unsubscribe,c=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var l=-1,f=i?i.length:0;r;)r.remove(this),r=++l<f&&i[l]||null;if(s(o)){var d=u(o).call(this);d===$&&(e=!0,t=t||($.e instanceof K?p($.e.errors):[$.e]))}if(q(c))for(l=-1,f=c.length;++l<f;){var h=c[l];if(a(h)){var d=u(h.unsubscribe).call(h);if(d===$){e=!0,t=t||[];var y=$.e;y instanceof K?t=t.concat(p(y.errors)):t.push(y)}}}if(e)throw new K(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;n&&n!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}(),et="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),nt=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=X;break;case 1:if(!n){o.destination=X;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new rt(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new rt(o,n,r,i)}return o}return o(e,t),e.prototype[et]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this._parentSubscription=null,this},e}(tt),rt=function(t){function e(e,n,r,i){var o=t.call(this)||this;o._parentSubscriber=e;var c,a=o;return s(n)?c=n:n&&(c=n.next,r=n.error,i=n.complete,n!==X&&(a=Object.create(n),s(a.unsubscribe)&&o.add(a.unsubscribe.bind(a)),a.unsubscribe=o.unsubscribe.bind(o))),o._context=a,o._next=c,o._error=r,o._complete=i,o}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Q.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=Q.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):c(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;c(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};Q.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),Q.useDeprecatedSynchronousErrorHandling)throw t;c(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!Q.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return Q.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(c(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(nt),it="function"==typeof Symbol&&Symbol.observable||"@@observable",ot=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=h(t,e,n);if(r?r.call(i,this.source):i.add(this.source||Q.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Q.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Q.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),d(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=b(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[it]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:g(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=b(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();m.prototype=Object.create(Error.prototype);var st=m,ct=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return o(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(tt),at=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return o(e,t),e}(nt),lt=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype[et]=function(){return new at(this)},e.prototype.lift=function(t){var e=new ut(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new st;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new st;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new st;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new st;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new st;return this.hasError?(t.error(this.thrownError),tt.EMPTY):this.isStopped?(t.complete(),tt.EMPTY):(this.observers.push(t),new ct(this,t))},e.prototype.asObservable=function(){var t=new ot;return t.source=this,t},e.create=function(t,e){return new ut(t,e)},e}(ot),ut=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return o(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):tt.EMPTY},e}(lt),ft=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new st;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(lt),pt=function(t){function e(e,n){return t.call(this)||this}return o(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(tt),dt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return o(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(pt),ht=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),yt=function(t){function e(n,r){void 0===r&&(r=ht.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return o(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(ht),gt=new ot(function(t){return t.complete()}),bt=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},mt=new yt(dt);S.prototype=Object.create(Error.prototype);var vt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new xt(t,this.project,this.thisArg))},t}(),xt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(nt),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(nt),It=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return o(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(nt),_t=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,c),e}},jt=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),St=function(t){return function(e){for(var n=t[jt]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},Ot=function(t){return function(e){var n=t[it]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Rt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t},Pt=function(t){if(t instanceof ot)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[it])return Ot(t);if(Rt(t))return bt(t);if(R(t))return _t(t);if(t&&"function"==typeof t[jt])return St(t);var e=a(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)},Et=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Dt(t,this.nextOrObserver,this.error,this.complete))},t}(),Dt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=y,o._tapError=y,o._tapComplete=y,o._tapError=r||y,o._tapComplete=i||y,s(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||y,o._tapError=n.error||y,o._tapComplete=n.complete||y),o}return o(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(nt),zt=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new kt(t,this.callback))},t}(),kt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new tt(n)),r}return o(e,t),e}(nt),Zt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Ht(t,this.project))},t}(),Ht=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return o(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new It(this,void 0,void 0);this.destination.add(i),this.innerSubscription=P(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(wt),Tt=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new Ct(t,this.predicate))},t}(),Ct=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.index=0,r}return o(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(nt),Nt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Mt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gt=this&&this.__param||function(t,e){return function(n,r){e(n,r,t)}},Vt=function(){function t(t){var e=this;this.config=B,this.state=new ft(J),this.config=Object.assign({},B,t),this.player=new lt,this.player.pipe(V(function(t){return t?e.playerEngine(t):j(null)})).subscribe()}return t.prototype.load=function(t){this.state.next({images:t,currIndex:0,hasNext:t.length>1,hasPrev:!1,active:!1})},t.prototype.set=function(t){var e=this.state.getValue();this.state.next(Object.assign({},e,{prevIndex:e.currIndex,currIndex:t,hasNext:t<i(e,"images.length",0)-1,hasPrev:t>0,active:!0}))},t.prototype.next=function(){var t=this.state.getValue();if(t.hasNext){var e=(t.currIndex||0)+1;this.set(e)}else this.set(0)},t.prototype.prev=function(){var t=this.state.getValue();if(t.hasPrev){var e=(t.currIndex||0)-1;this.set(e)}else this.set(i(t,"images.length",0)-1)},t.prototype.close=function(){var t=this.state.getValue();this.state.next(Object.assign({},t,{active:!1,play:!1})),this.stop()},t.prototype.reset=function(){this.state.next(J),this.stop()},t.prototype.play=function(t){var e=t||i(this.config,"player.speed",0)||2e3,n=this.state.getValue();this.state.next(Object.assign({},n,{play:!0,active:!0})),this.player.next(e)},t.prototype.stop=function(){this.player.next(0)},t.prototype.playerEngine=function(t){var e=this;return C(t).pipe(L(function(){return e.state.getValue().play||!1}),M(function(){return e.next()}),G(function(){return e.state.next(Object.assign({},e.state.getValue(),{play:!1}))}))},t=Nt([Gt(0,e.Optional()),Mt("design:paramtypes",[Object])],t)}(),Lt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},At=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wt=function(){function t(t){this.gallery=t}return t.prototype.ngOnDestroy=function(){this.gallery.reset()},t=Lt([e.Component({selector:"gallery",template:'<gallery-main *ngIf="gallery.state | async as state" [state]="state" [config]="gallery.config"></gallery-main>',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:["\n    gallery-main{display:-ms-flexbox;display:flex;height:500px}\n  "]}),At("design:paramtypes",[Vt])],t)}(),Yt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Jt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bt=function(){function t(t){this.gallery=t}return Yt([e.Input(),Jt("design:type",Object)],t.prototype,"state",void 0),t=Yt([e.Component({selector:"gallery-nav",template:'\n    <div *ngIf="state.images.length > 1" class="g-nav">\n\n      <div class="g-nav-prev" (click)="gallery.prev()">\n        <i class="prev-arrow-ico"></i>\n      </div>\n\n      <div class="g-nav-next" (click)="gallery.next()">\n        <i class="next-arrow-ico"></i>\n      </div>\n\n    </div>\n  ',styles:["\n    *{box-sizing:border-box}:host{z-index:1;position:absolute;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex}@media (max-width:480px){:host{display:none}}.g-nav{-ms-flex:1;flex:1;height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;opacity:0;transition:all .4s linear;cursor:pointer}.g-nav:hover{opacity:1}.g-nav-next,.g-nav-prev{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:100%;opacity:.7;position:relative;overflow:hidden;transition:all .2s ease;z-index:0}.g-nav-next:hover,.g-nav-prev:hover{opacity:1}.g-nav-next{padding-right:.7em;-ms-flex:1;flex:1;-ms-flex-pack:end;justify-content:flex-end}.g-nav-prev{padding-left:.7em;width:20%}.next-arrow-ico,.prev-arrow-ico{width:45px;height:80px}.next-arrow-ico{background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PiAgPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQxNC40OTYgNDE0LjQ5NiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDE0LjQ5NiA0MTQuNDk2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+IDxkZWZzIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGZpbHRlciBpZD0iZHJvcHNoYWRvdyIgPiAgPGZlR2F1c3NpYW5CbHVyIGluPSJTb3VyY2VBbHBoYSIgc3RkRGV2aWF0aW9uPSIzIi8+ICAgPGZlT2Zmc2V0IGR4PSIyIiBkeT0iMiIgcmVzdWx0PSJvZmZzZXRibHVyIi8+ICAgPGZlTWVyZ2U+IDxmZU1lcmdlTm9kZS8+PGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIi8+ICAgPC9mZU1lcmdlPjwvZmlsdGVyPjwvZGVmcz4gIDxwb2x5Z29uIHN0eWxlPSJmaWxsOiNmZmY7IiBmaWx0ZXI9InVybCgjZHJvcHNoYWRvdykiIHBvaW50cz0iMTE4LjEyNiwwIDg5Ljc5NiwyOC4yMzggMjY4LjIyMywyMDcuMjQ4IDg5Ljc5NiwzODYuMjU4IDExOC4xMjYsNDE0LjQ5NiAzMjQuNywyMDcuMjQ4ICIvPjwvc3ZnPg==) no-repeat 50%}.prev-arrow-ico{background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA0MTQuNDk2IDQxNC40OTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQxNC40OTYgNDE0LjQ5NjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxkZWZzIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGZpbHRlciBpZD0iZHJvcHNoYWRvdyIgPiAgPGZlR2F1c3NpYW5CbHVyIGluPSJTb3VyY2VBbHBoYSIgc3RkRGV2aWF0aW9uPSIzIi8+ICAgPGZlT2Zmc2V0IGR4PSIyIiBkeT0iMiIgcmVzdWx0PSJvZmZzZXRibHVyIi8+ICAgPGZlTWVyZ2U+IDxmZU1lcmdlTm9kZS8+PGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIi8+ICAgPC9mZU1lcmdlPjwvZmlsdGVyPjwvZGVmcz48cG9seWdvbiBzdHlsZT0iZmlsbDojZmZmOyIgZmlsdGVyPSJ1cmwoI2Ryb3BzaGFkb3cpIiBwb2ludHM9IjMyNC43LDI4LjIzOCAyOTYuMzcsMCA4OS43OTYsMjA3LjI0OCAyOTYuMzcsNDE0LjQ5NiAzMjQuNywzODYuMjU4IDE0Ni4yNzMsMjA3LjI0OCAiLz48L3N2Zz4=) no-repeat 50%}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),Jt("design:paramtypes",[Vt])],t)}(),Ut=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ft=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qt=function(){function t(t,e,n){this.gallery=t,this.el=e,this.renderer=n}return t.prototype.ngOnInit=function(){var t=this;if(this.contStyle=this.getContainerStyle(),this.gallery.config.gestures){if("undefined"==typeof Hammer)throw Error("[NgGallery]: HammerJS is undefined, make sure it is loaded");var e=this.el.nativeElement,n=new Hammer(e);n.on("panstart",function(){t.renderer.removeClass(e,"g-pan-reset")}),n.on("panend",function(){t.renderer.addClass(e,"g-pan-reset")}),n.on("pan",function(n){t.renderer.setStyle(e,"transform","translate3d("+n.deltaX+"px, 0px, 0px)")}),n.on("swipeleft",function(){t.gallery.next()}),n.on("swiperight",function(){t.gallery.prev()})}},t.prototype.translateThumbs=function(){return"translate3d("+-(i(this.state,"currIndex",0)*i(this.config,"width",0)+i(this.config,"width",0)/2)+"px, 0, 0)"},t.prototype.getContainerStyle=function(){var t="top"===this.config.position?0:2;return this.renderer.setStyle(this.el.nativeElement,"order",t),{height:this.config.height+"px",margin:this.config.space+"px"}},t.prototype.getThumbImage=function(t){var e=i(this.state,"images",[])[t]||{};return"url("+(e.thumbnail||e.src)+")"},Ut([e.Input(),Ft("design:type",Object)],t.prototype,"state",void 0),Ut([e.Input(),Ft("design:type",Object)],t.prototype,"config",void 0),t=Ut([e.Component({selector:"gallery-thumb",template:'\n    <div #container class="g-thumb-container" [ngStyle]="contStyle">\n\n      <div class="g-thumbs" [style.transform]="translateThumbs()">\n\n        <div class="g-thumb" *ngFor="let image of state.images; let i = index"\n             [class.g-thumb-current]="i === state.currIndex"\n             [style.width.px]="gallery.config.thumbnails.width"\n             [style.height.px]="gallery.config.thumbnails.height">\n\n          <div class="g-thumb-image" [style.backgroundImage]="getThumbImage(i)"\n               [tap] (tapClick)="gallery.set(i)">\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n  ',
styles:["\n    :host{display:block;z-index:1}.g-thumb-container{position:relative;z-index:2;width:100%;height:100%;left:0}.g-thumb-container,.g-thumbs{top:0;display:-ms-flexbox;display:flex}.g-thumbs{position:absolute;left:50%;-ms-flex-align:center;align-items:center;transition:transform .3s ease-in;transform:translateZ(0)}.g-thumb{padding:8px;opacity:.5;transition:all .2s linear}.g-thumb-image{cursor:pointer;width:100%;height:100%;background-position:50%;background-size:cover;box-shadow:0 0 4px rgba(0,0,0,.3)}.g-thumb-current{opacity:1;padding:2px}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),Ft("design:paramtypes",[Vt,e.ElementRef,e.Renderer2])],t)}(),Xt=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},qt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$t=function(){function t(t,e){this.el=t,this.renderer=e}return t.prototype.ngOnInit=function(){var t=this.el.nativeElement;this.config.overlay&&this.renderer.setStyle(t,"position","absolute"),"top"===this.config.position?(this.renderer.setStyle(t,"order",0),this.renderer.setStyle(t,"top",0),this.renderer.setStyle(t,"bottom","unset")):(this.renderer.setStyle(t,"order",2),this.renderer.setStyle(t,"top","unset"),this.renderer.setStyle(t,"bottom",0))},Xt([e.Input(),qt("design:type",Object)],t.prototype,"state",void 0),Xt([e.Input(),qt("design:type",Object)],t.prototype,"config",void 0),t=Xt([e.Component({selector:"gallery-text",template:'\n    <div class="g-text-container" [ngStyle]="config.style">\n      <div *ngIf="config.text" class="g-text" [innerHtml]="state.images[state.currIndex]?.text">\n      </div>\n      <div *ngIf="config.counter" class="g-number">\n        {{(state.currIndex + 1) + \'/\' + state.images.length}}\n      </div>\n    </div>\n  ',styles:["\n    *{box-sizing:border-box}:host{position:relative;left:0;right:0;z-index:1}.g-text-container{padding:1em 2em;color:#ccc;font-size:13px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-line-pack:center;align-content:center;background-clip:padding-box;-webkit-font-smoothing:antialiased}.g-text{-ms-flex:1;flex:1}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),qt("design:paramtypes",[e.ElementRef,e.Renderer2])],t)}(),Kt=[r.trigger("imgAnimate",[r.state("fade",r.style({opacity:1})),r.transition("none => fade",[r.style({opacity:0}),r.animate("0.5s ease-in")])])],te=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ee=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ne=function(){function t(t,e,n){this.gallery=t,this.el=e,this.renderer=n}return t.prototype.ngOnInit=function(){var t=this;if(this.config.gestures){if("undefined"==typeof Hammer)throw Error("[NgGallery]: HammerJS is undefined, make sure it is loaded");var e=this.el.nativeElement,n=new Hammer(e);n.on("panstart",function(){t.renderer.removeClass(e,"g-pan-reset")}),n.on("panend",function(){t.renderer.addClass(e,"g-pan-reset")}),n.on("pan",function(n){t.renderer.setStyle(e,"transform","translate3d("+n.deltaX+"px, 0px, 0px)")}),n.on("swipeleft",function(){t.gallery.next()}),n.on("swiperight",function(){t.gallery.prev()})}},t.prototype.imageLoad=function(t){if(this.loading=!t,t)switch(this.config.animation){case"fade":this.animate="fade";break;default:this.animate="none"}else this.animate="none"},te([e.Input(),ee("design:type",Object)],t.prototype,"state",void 0),te([e.Input(),ee("design:type",Object)],t.prototype,"config",void 0),t=te([e.Component({selector:"gallery-image",template:'\n    <div [@imgAnimate]="animate" class="g-image">\n      <img [lazyImage]="state.images[state.currIndex].src" (lazyLoad)="imageLoad($event)">\n    </div>\n\n    <gallery-loader *ngIf="loading" [config]="config.loader"></gallery-loader>\n  ',styles:["\n    :host{-ms-flex-order:1;order:1;-ms-flex:1;flex:1;flex-direction:column;transform:translateZ(0)}.g-image,:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column}.g-image{position:absolute;left:0;right:0;top:0;bottom:0;background-repeat:no-repeat;background-size:contain;background-position:50%;z-index:1;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.g-image img{box-shadow:0 0 4px rgba(0,0,0,.3);pointer-events:none;display:block;max-width:100%;max-height:100%}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush,animations:Kt}),ee("design:paramtypes",[Vt,e.ElementRef,e.Renderer2])],t)}(),re=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ie=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},oe=function(){function t(t){this.gallery=t}return t.prototype.ngOnInit=function(){this.icon=this.getIcon(),this.styles=this.getStyle()},t.prototype.getIcon=function(){switch(this.config.icon){case"puff":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/puff.svg";case"spinning-circles":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/ball-triangle.svg";case"three-dots":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/three-dots.svg";case"oval":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/oval.svg";case"ball-triangle":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/ball-triangle.svg";case"bars":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/bars.svg";case"tail-spin":return"https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/tail-spin.svg";default:return this.config.icon}},t.prototype.getStyle=function(){switch(this.config.position){case"topLeft":return{"align-items":"flex-start","justify-content":"flex-start"};case"topRight":return{"align-items":"flex-start","justify-content":"flex-end"};case"bottomLeft":return{"align-items":"flex-end","justify-content":"flex-start"};case"bottomRight":return{"align-items":"flex-end","justify-content":"flex-end"};default:return{"align-items":"center","justify-content":"center"}}},re([e.Input(),ie("design:type",Object)],t.prototype,"config",void 0),t=re([e.Component({selector:"gallery-loader",template:'\n    <div class="g-loader" [ngStyle]="styles">\n      <img [src]="icon" [style.width]="config.width" [style.height]="config.height"/>\n    </div>\n  ',styles:["\n    *{box-sizing:border-box}:host{z-index:1}.g-loader{z-index:2;position:absolute;width:100%;height:100%;display:-ms-flexbox;display:flex;padding:1em}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),ie("design:paramtypes",[Vt])],t)}(),se=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ce=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ae=function(){function t(t){this.gallery=t,this.closeButton=!0}return t.prototype.keyboardInput=function(t){if(this.gallery.state.getValue().active)switch(t.stopPropagation(),t.keyCode){case 37:this.gallery.prev();break;case 39:case 13:this.gallery.next();break;case 27:this.gallery.close();break;default:return}},t.prototype.ngOnDestroy=function(){this.gallery.reset()},se([e.Input(),ce("design:type",Object)],t.prototype,"closeButton",void 0),se([e.HostListener("body:keydown",["$event"]),ce("design:type",Function),ce("design:paramtypes",[KeyboardEvent]),ce("design:returntype",void 0)],t.prototype,"keyboardInput",null),t=se([e.Component({selector:"gallery-modal",template:'\n    <div *ngIf="gallery.state | async as state">\n\n      <div *ngIf="state.active" class="g-modal">\n\n        <div class="g-btn-close-container">\n          <div *ngIf="closeButton" class="g-btn-close" (click)="gallery.close()"></div>\n        </div>\n\n        <gallery-main [@popup] [state]="state" [config]="gallery.config"></gallery-main>\n\n        <div class="g-overlay" (click)="gallery.close()"></div>\n\n      </div>\n\n    </div>\n  ',styles:["\n    *{box-sizing:border-box}.g-modal{position:fixed;left:0;right:0;top:0;bottom:0;background-color:rgba(0,0,0,.6);z-index:1;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}@media (max-width:480px){.g-modal{padding:0}}.g-overlay{position:absolute;left:0;right:0;top:0;bottom:0}.g-btn-close-container{width:100%;display:-ms-flexbox;display:flex}@media (max-width:480px){.g-btn-close-container{-ms-flex-pack:end;justify-content:flex-end}.g-btn-close-container .g-btn-close{margin:.5em;position:relative;right:0;top:0}}.g-btn-close{position:absolute;right:1em;top:1em;z-index:2;cursor:pointer;width:30px;height:30px;transition:all .2s linear;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUwIDUwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MCA1MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxjaXJjbGUgc3R5bGU9ImZpbGw6I0Q3NUE0QTsiIGN4PSIyNSIgY3k9IjI1IiByPSIyNSIvPjxwb2x5bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojRkZGRkZGO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgcG9pbnRzPSIxNiwzNCAyNSwyNSAzNCwxNiAiLz48cG9seWxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6I0ZGRkZGRjtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIHBvaW50cz0iMTYsMTYgMjUsMjUgMzQsMzQgIi8+PC9zdmc+)}.g-btn-close:active{transform:rotate(180deg) scale(.9)}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush,animations:[r.trigger("popup",[r.state("in",r.style({opacity:.8,transform:"scale(0.2) translate3d(0, 100px, 0)"})),r.transition("void => *",[r.style({opacity:.8,transform:"scale(0.2) translate3d(0, 100px, 0)"}),r.animate(300)]),r.transition("* => void",[r.animate(300,r.style({opacity:1,transform:"scale(1)  translate3d(0, 0, 0)"}))])])]}),ce("design:paramtypes",[Vt])],t)}(),le=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ue=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fe=function(){function t(t,e,n){this.gallery=t,this.renderer=e,this.el=n}return t.prototype.ngOnInit=function(){if(this.config.position){var t=void 0,e=void 0,n=void 0,r="unset",i="unset";switch(this.config.position){case"bottom":t="row",n="auto",e="100%","unset",i="0";break;case"left":t="column",e="auto",n="100%";break;case"right":e="auto",n="100%",t="column",r="0";break;default:t="row",n="auto",e="100%"}this.renderer.setStyle(this.el.nativeElement,"right",r),this.renderer.setStyle(this.el.nativeElement,"bottom",i),this.renderer.setStyle(this.el.nativeElement,"width",e),this.renderer.setStyle(this.el.nativeElement,"height",n),this.renderer.setStyle(this.el.nativeElement,"flex-direction",t)}},le([e.Input(),ue("design:type",Object)],t.prototype,"state",void 0),le([e.Input(),ue("design:type",Object)],t.prototype,"config",void 0),t=le([e.Component({selector:"gallery-bullets",template:'\n    <div class="g-bullet"\n         *ngFor="let image of state.images; let i = index"\n         [class.g-bullet-curr]="i === state.currIndex"\n         (click)="gallery.set(i)">\n\n      <div class="g-bullet-inner" [ngStyle]="config.style"></div>\n\n    </div>\n  ',styles:["\n    :host{position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.g-bullet,:host{display:-ms-flexbox;display:flex}.g-bullet{cursor:pointer;z-index:1}.g-bullet-inner{margin:1em;height:4px;width:4px;background-color:hsla(0,0%,100%,.5);border-radius:2px;box-shadow:0 0 6px rgba(0,0,0,.8);transition:all .2s ease}.g-bullet-curr .g-bullet-inner{transform:scale(1.5);background-color:#fff}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),ue("design:paramtypes",[Vt,e.Renderer2,e.ElementRef])],t)}(),pe=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},de=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},he=function(){function t(t){this.gallery=t}return t.prototype.ngOnInit=function(){this.config.autoplay&&this.gallery.play()},pe([e.Input(),de("design:type",Object)],t.prototype,"config",void 0),pe([e.Input(),de("design:type",Object)],t.prototype,"state",void 0),t=pe([e.Component({selector:"gallery-player",template:'\n    \x3c!--<div class="g-player-btns">--\x3e\n      \x3c!--<div *ngIf="!state.play" class="g-player-btn" (click)="gallery.play()">▶</div>--\x3e\n      \x3c!--<div *ngIf="state.play" class="g-player-btn" (click)="gallery.stop()">⏸</div>--\x3e\n    \x3c!--</div>--\x3e\n  ',styles:["\n    :host{position:absolute;z-index:1}.g-player-btns{display:-ms-flexbox;display:flex;padding:.5em 1em}.g-player-btn{margin-right:.5em;color:#fff;cursor:pointer}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush}),de("design:paramtypes",[Vt])],t)}(),ye=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ge=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},be=function(){function t(t){this.gallery=t}return t.prototype.ngOnInit=function(){var t=this.config.thumbnails?this.config.thumbnails.position:0;this.thumbDirection="left"===t||"right"===t?"row":"column"},ye([e.Input(),ge("design:type",Object)],t.prototype,"state",void 0),ye([e.Input(),ge("design:type",Object)],t.prototype,"config",void 0),t=ye([e.Component({selector:"gallery-main",template:'\n    <div class="g-container" [style.flexDirection]="thumbDirection" [ngStyle]="config.style">\n\n      <gallery-thumb *ngIf="config.thumbnails" [state]="state" [config]="config.thumbnails"\n                     [style.background]="config.style?.background"></gallery-thumb>\n\n      <div class="g-box">\n\n        <div class="g-image-box">\n\n          <gallery-image [state]="state" [config]="config" (loading)="loading = $event"></gallery-image>\n\n          <gallery-nav *ngIf="config.navigation" [state]="state"></gallery-nav>\n\n          \x3c!--<div class="g-layer" *ngIf="state.images[state.currIndex].layer" [innerHtml]="state.images[state.currIndex].layer"></div>--\x3e\n\n        </div>\n\n        <gallery-text *ngIf="config.description" [state]="state" [config]="config.description"></gallery-text>\n\n        <gallery-bullets *ngIf="config.bullets" [state]="state" [config]="config.bullets"></gallery-bullets>\n\n        <gallery-player *ngIf="config.player" [state]="state" [config]="config.player"></gallery-player>\n\n      </div>\n\n    </div>\n  ',styles:["\n    gallery-main{-ms-flex:1;flex:1;width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}gallery-main *{box-sizing:border-box}.g-container{overflow:hidden;position:relative;z-index:1;max-height:100%;max-width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}@media (max-width:480px){.g-container{width:100%!important;-ms-flex:1;flex:1;-ms-flex-direction:column!important;flex-direction:column!important}}.g-box{height:100%}.g-box,.g-image-box{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1;flex:1;-ms-flex-order:1;order:1;height:100%}.g-layer{position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}.g-pan-reset{transition:all .3s linear;transform:translateZ(0)!important}\n  "],changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}),ge("design:paramtypes",[Vt])],t)}(),me=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ve=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xe=function(){function t(t,e,n){this.el=t,this.renderer=e,this.gallery=n,this.srcList=[],this.subtree=""}return t.prototype.ngOnInit=function(){var t=this,e=this.el.nativeElement,n=function(){if(e&&(!t.content||t.content!==e.innerText)){t.content=e.innerText;var n=[],r=e.querySelectorAll(t.subtree+" img"+t.gallerize);if(!r||!r.length)return void(t.srcList=[]);var i=Array.from(r).map(function(t){return t.dataset&&t.dataset.originalImageUrl?t.dataset.originalImageUrl:t.src}),o=A(t.srcList,i);t.srcList=i,H(r).pipe(O(function(e,r){var i=e.dataset&&e.dataset.originalImageUrl?e.dataset.originalImageUrl:e.src;t.renderer.setStyle(e,"cursor","pointer"),t.filter&&!t.filter(e)||t.renderer.setProperty(e,"onclick",function(){-1!==t.srcList.indexOf(i)&&t.gallery.set(r)}),n.push({src:i,text:e.alt})}),G(function(){o||t.gallery.load(n)})).subscribe()}},r=new MutationObserver(n),i={subtree:!0,childList:!0};r.observe(e,i),n()},me([e.Input(),ve("design:type",String)],t.prototype,"gallerize",void 0),me([e.Input(),ve("design:type",String)],t.prototype,"exclude",void 0),me([e.Input(),ve("design:type",String)],t.prototype,"subtree",void 0),me([e.Input(),ve("design:type",Function)],t.prototype,"filter",void 0),t=me([e.Directive({selector:"[gallerize]"}),ve("design:paramtypes",[e.ElementRef,e.Renderer2,Vt])],t)}(),we=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ie=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_e=function(){function t(t,n){var r=this;this.el=t,this.renderer=n,this.lazyWorker=new lt,this.lazyLoad=new e.EventEmitter(!1),this.lazyWorker.pipe(V(function(t){return j(t)})).subscribe(function(t){t?(r.renderer.setProperty(r.el.nativeElement,"src",t),r.lazyLoad.emit(!0)):r.lazyLoad.emit(!1)})}return Object.defineProperty(t.prototype,"lazyImage",{set:function(t){this.getImage(t)},enumerable:!0,configurable:!0}),t.prototype.getImage=function(t){var e=this;this.lazyWorker.next("");var n=this.renderer.createElement("img");n.src=t,n.onload=function(){e.lazyWorker.next(t)},n.onerror=function(t){console.error("[GalleryLazyDirective]:",t),e.lazyWorker.next("")}},we([e.Input("lazyImage"),Ie("design:type",String),Ie("design:paramtypes",[String])],t.prototype,"lazyImage",null),we([e.Output(),Ie("design:type",Object)],t.prototype,"lazyLoad",void 0),t=we([e.Directive({selector:"[lazyImage]"}),Ie("design:paramtypes",[e.ElementRef,e.Renderer2])],t)}(),je=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Se=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Oe=function(){function t(t,n,r){this.gallery=t,this.el=n,this.renderer=r,this.tapClick=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.setTapEvent()},t.prototype.setTapEvent=function(){var t=this;if(this.gallery.config.gestures){if("undefined"==typeof Hammer)throw Error("[NgGallery]: HammerJS is undefined, make sure it is loaded");if("undefined"!=typeof Hammer){new Hammer(this.el.nativeElement).on("tap",function(){t.tapClick.emit()})}}else this.renderer.setProperty(this.el.nativeElement,"onclick",function(){t.tapClick.emit()})},je([e.Input(),Se("design:type",Object)],t.prototype,"tap",void 0),je([e.Output(),Se("design:type",Object)],t.prototype,"tapClick",void 0),t=je([e.Directive({selector:"[tap]"}),Se("design:paramtypes",[Vt,e.ElementRef,e.Renderer2])],t)}(),Re=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Pe=new e.InjectionToken("config"),Ee=function(){function t(){}r=t,t.forRoot=function(t){return{ngModule:r,providers:[{provide:Pe,useValue:t},{provide:Vt,useFactory:W,deps:[Pe]}]}};var r;return t=r=Re([e.NgModule({imports:[n.CommonModule],declarations:[Wt,Bt,Qt,xe,$t,ne,oe,ae,fe,he,be,Oe,_e],exports:[Wt,xe,ae]})],t)}();t.GalleryModule=Ee,t.GalleryService=Vt,Object.defineProperty(t,"__esModule",{value:!0})});
